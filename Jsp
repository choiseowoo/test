JSF ê¸°ë°˜ì˜ ì˜ˆì œë¥¼ **MVC ëª¨ë¸(3-tier êµ¬ì¡°)ë¡œ ë³€í™˜**í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

---

## **ğŸ“Œ MVC (3ì¸µ êµ¬ì¡°)ë¡œ ë³€í™˜ëœ êµ¬ì„±**
1. **Model (DTO, DAO)**
   - DBì™€ ì§ì ‘ ì—°ê²°ë˜ëŠ” ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ
   - DTOëŠ” ë°ì´í„°ë¥¼ ë‹´ëŠ” ì—­í• 
   - DAOëŠ” DBì—ì„œ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ëŠ” ì—­í•   

2. **Controller (Servlet ë˜ëŠ” ManagedBean)**
   - í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì„ ë°›ì•„ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬ í›„ JSPì— ë°ì´í„°ë¥¼ ì „ë‹¬  
   - Service Layerë¥¼ í˜¸ì¶œí•˜ì—¬ ë°ì´í„° ê°€ê³µ ê°€ëŠ¥  

3. **View (JSP)**
   - Controllerê°€ ì „ë‹¬í•œ ë°ì´í„°ë¥¼ í™”ë©´ì— ì¶œë ¥  
   - JSTLì´ë‚˜ EL(Expression Language)ì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„° ë°”ì¸ë”©  

---

## **ğŸ“ MVC ì˜ˆì œ ì½”ë“œ**
### **1ï¸âƒ£ DTO í´ë˜ìŠ¤ (`User.java`)**
```java
public class User {
    private Long id;
    private String name;
    private String email;

    // Getter & Setter
    public Long getId() { return id; }
    public void setId(Long id) { this.id = id; }

    public String getName() { return name; }
    public void setName(String name) { this.name = name; }

    public String getEmail() { return email; }
    public void setEmail(String email) { this.email = email; }
}
```

---

### **2ï¸âƒ£ DAO í´ë˜ìŠ¤ (`UserDao.java`)**
```java
import java.util.List;
import org.apache.ibatis.session.SqlSession;

public class UserDao {
    public List<User> getAllUsers() {
        try (SqlSession session = MyBatisUtil.getSqlSessionFactory().openSession()) {
            return session.selectList("UserMapper.getAllUsers");
        }
    }
}
```

**MyBatis Mapper (`UserMapper.xml`)**
```xml
<mapper namespace="UserMapper">
    <select id="getAllUsers" resultType="User">
        SELECT * FROM users
    </select>
</mapper>
```

---

### **3ï¸âƒ£ Service í´ë˜ìŠ¤ (`UserService.java`)**
```java
import java.util.List;

public class UserService {
    private UserDao userDao = new UserDao();

    public List<User> getUsers() {
        return userDao.getAllUsers();
    }
}
```

---

### **4ï¸âƒ£ Controller (Servlet)**
```java
import java.io.IOException;
import java.util.List;
import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;
import jakarta.servlet.RequestDispatcher;

@WebServlet("/users")
public class UserController extends HttpServlet {
    private UserService userService = new UserService();

    protected void doGet(HttpServletRequest request, HttpServletResponse response) 
            throws ServletException, IOException {
        List<User> users = userService.getUsers();
        request.setAttribute("users", users);

        RequestDispatcher dispatcher = request.getRequestDispatcher("users.jsp");
        dispatcher.forward(request, response);
    }
}
```

---

### **5ï¸âƒ£ JSP (View)**
```jsp
<%@ page contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<html>
<head>
    <title>Users List</title>
</head>
<body>
    <h2>User List</h2>
    <table border="1">
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Email</th>
        </tr>
        <c:forEach var="user" items="${users}">
            <tr>
                <td>${user.id}</td>
                <td>${user.name}</td>
                <td>${user.email}</td>
            </tr>
        </c:forEach>
    </table>
</body>
</html>
```

---

## **ğŸš€ MVC ëª¨ë¸ê³¼ JSF ë¹„êµ**
| **êµ¬ì„± ìš”ì†Œ**   | **JSF ê¸°ë°˜ êµ¬ì¡°** | **MVC (3-tier) êµ¬ì¡°** |
|---------------|----------------|----------------|
| **Model**    | DAO + ManagedBean | DTO + DAO |
| **Controller** | JSF ManagedBeanì´ ì§ì ‘ í˜¸ì¶œ | Servlet (UserController) |
| **View**      | JSF (`users.xhtml`) | JSP (`users.jsp`) |
| **ë°ì´í„° ë°”ì¸ë”©** | EL (`#{userBean.users}`) | JSP EL (`${users}`) |
| **Service Layer** | ìƒëµ ê°€ëŠ¥ì„± ìˆìŒ | Service Layerì—ì„œ ì²˜ë¦¬ |
| **ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬** | ManagedBeanì—ì„œ ì§ì ‘ | Controller â†’ Service |

---

## **âœ… ìš”ì•½**
- **JSFëŠ” Controller ì—†ì´ ManagedBeanì—ì„œ ë°ì´í„°ë¥¼ ì§ì ‘ ê°€ì ¸ì˜´**  
- **MVC(3-tier)ëŠ” Servletì´ Controller ì—­í• ì„ í•˜ê³  JSPì—ì„œ ë°ì´í„°ë¥¼ ì¶œë ¥**  
- **Service Layerë¥¼ ìœ ì§€í•˜ì—¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ MVC ë°©ì‹**  
- **JSPì—ì„œ JSTL(`c:forEach`)ì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì¶œë ¥**  

ì´ì œ JSFì™€ MVC ë°©ì‹ì˜ ì°¨ì´ì ì´ ëª…í™•í•´ì¡Œì„ ê±°ì˜ˆìš”.  
ì§ˆë¬¸ ìˆìœ¼ë©´ ë” ì•Œë ¤ì£¼ì„¸ìš”!
