ë„¤, ë§ì•„ìš”! í˜„ì¬ ì‹œìŠ¤í…œì˜ êµ¬ì¡°ë¥¼ ë³´ë©´ **MyBatisì˜ `mapper.xml`ì—ì„œ SQLì„ ì‘ì„±í•˜ê³ , `mapper.java`ì—ì„œ ì´ë¥¼ í˜¸ì¶œí•œ í›„, DAO(Data Access Object)ì—ì„œ ì²˜ë¦¬í•˜ëŠ” í˜•íƒœ**ë¼ê³  ë³¼ ìˆ˜ ìˆì–´ìš”.  

í•˜ì§€ë§Œ í˜„ì¬ ì½”ë“œì—ì„œëŠ” **DAO ê³„ì¸µì´ ìƒëµ**ë˜ì–´ ìˆê³ , **JSFì˜ `UserBean.java`ì—ì„œ ì§ì ‘ `mapper.java`ë¥¼ í˜¸ì¶œ**í•˜ëŠ” ë°©ì‹ì´ì—ìš”. ì¼ë°˜ì ì¸ 3ê³„ì¸µ êµ¬ì¡°ë¥¼ ìƒê°í•˜ë©´ **DAO ê³„ì¸µì„ ì¶”ê°€**í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•´ìš”.

---

## **ğŸ“Œ í˜„ì¬ êµ¬ì¡° ë¶„ì„ (DAO ìƒëµí˜•)**
### **1ï¸âƒ£ `mapper.xml` (SQL ì •ì˜)**
- MyBatisì˜ `UserMapper.xml`ì—ì„œ SQLì„ ì‘ì„±
- `UserMapper.java`ì—ì„œ ì´ë¥¼ í˜¸ì¶œí•˜ì—¬ ì‹¤í–‰  

### **2ï¸âƒ£ `mapper.java` (MyBatis ì¸í„°í˜ì´ìŠ¤)**
- `UserMapper.java` ì¸í„°í˜ì´ìŠ¤ì—ì„œ SQLì„ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ ì •ì˜  

### **3ï¸âƒ£ `UserBean.java` (JSFì˜ Managed Bean)**
- `UserBean`ì—ì„œ `mapper.java`ë¥¼ ì§ì ‘ í˜¸ì¶œí•˜ì—¬ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´  

> **ğŸ’¡ í˜„ì¬ ë°©ì‹ì—ì„œëŠ” DAO ê³„ì¸µ ì—†ì´ ë°”ë¡œ `UserBean.java`ì—ì„œ `UserMapper`ë¥¼ í˜¸ì¶œ!**  

---

## **âœ… ì¼ë°˜ì ì¸ 3ê³„ì¸µ êµ¬ì¡° (DAO ì¶”ê°€)**
**ë§Œì•½ DAO ê³„ì¸µì„ ì¶”ê°€í•˜ë©´ ì•„ë˜ì²˜ëŸ¼ êµ¬ì¡°ê°€ ë³€ê²½ë©ë‹ˆë‹¤.**  

### **1ï¸âƒ£ `mapper.xml` (SQL ì •ì˜ - ë™ì¼)**
```xml
<mapper namespace="com.example.mapper.UserMapper">
    <select id="getAllUsers" resultType="com.example.model.User">
        SELECT id, username, email FROM users;
    </select>
</mapper>
```
> **ğŸ’¡ SQL ì¿¼ë¦¬ëŠ” ë™ì¼í•˜ì§€ë§Œ, í˜¸ì¶œ ë°©ì‹ì´ ë°”ë€œ!**

---

### **2ï¸âƒ£ `UserMapper.java` (MyBatis ì¸í„°í˜ì´ìŠ¤ - ë™ì¼)**
```java
package com.example.mapper;

import com.example.model.User;
import java.util.List;

public interface UserMapper {
    List<User> getAllUsers();
}
```
> **ğŸ’¡ ì¸í„°í˜ì´ìŠ¤ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€**

---

### **3ï¸âƒ£ `UserDAO.java` (DAO ê³„ì¸µ ì¶”ê°€)**
ğŸ“Œ `src/main/java/com/example/dao/UserDAO.java`
```java
package com.example.dao;

import com.example.mapper.UserMapper;
import com.example.model.User;
import com.example.util.MyBatisUtil;
import org.apache.ibatis.session.SqlSession;
import java.util.List;

public class UserDAO {
    public List<User> getAllUsers() {
        try (SqlSession session = MyBatisUtil.getSession()) {
            UserMapper mapper = session.getMapper(UserMapper.class);
            return mapper.getAllUsers();
        }
    }
}
```
> **ğŸ’¡ DAO ê³„ì¸µì„ ì¶”ê°€í•˜ì—¬ `UserMapper`ë¥¼ ì§ì ‘ í˜¸ì¶œí•˜ë„ë¡ ë³€ê²½**  
> **ğŸ’¡ `SqlSession` ê´€ë¦¬ë¥¼ DAOì—ì„œ ìˆ˜í–‰í•˜ì—¬ ìœ ì§€ë³´ìˆ˜ì„±ì„ ë†’ì„**  

---

### **4ï¸âƒ£ `UserBean.java` (JSFì˜ Managed Bean - DAO ì‚¬ìš©)**
ğŸ“Œ `src/main/java/com/example/bean/UserBean.java`
```java
package com.example.bean;

import com.example.dao.UserDAO;
import com.example.model.User;
import jakarta.enterprise.context.RequestScoped;
import jakarta.inject.Named;
import java.io.Serializable;
import java.util.List;

@Named
@RequestScoped
public class UserBean implements Serializable {
    private List<User> users;
    private final UserDAO userDAO = new UserDAO(); // DAO ì‚¬ìš©

    public List<User> getUsers() {
        if (users == null) {
            users = userDAO.getAllUsers(); // DAOì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
        }
        return users;
    }
}
```
> **ğŸ’¡ JSFì˜ `UserBean`ì´ ì§ì ‘ `UserMapper`ë¥¼ í˜¸ì¶œí•˜ëŠ” ëŒ€ì‹ , `UserDAO`ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ë³€ê²½**  
> **ğŸ’¡ DAO ê³„ì¸µì´ ì¶”ê°€ë˜ë©´ì„œ, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ë°ì´í„° ì•¡ì„¸ìŠ¤ê°€ ë¶„ë¦¬ë¨**  

---

## **ğŸ“Œ ê²°ë¡ **
âœ… **í˜„ì¬ ì½”ë“œ** â†’ **DAO ì—†ì´ `UserBean`ì´ ì§ì ‘ `UserMapper` í˜¸ì¶œ**  
âœ… **DAO ì¶”ê°€í•˜ë©´** â†’ **`UserBean` â†’ `UserDAO` â†’ `UserMapper` â†’ `mapper.xml` ìˆœìœ¼ë¡œ í˜¸ì¶œ**  
âœ… **DAOë¥¼ ì¶”ê°€í•˜ëŠ” ì´ìœ ?**  
  - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ DB ì•¡ì„¸ìŠ¤ë¥¼ ë¶„ë¦¬í•´ì„œ ìœ ì§€ë³´ìˆ˜ì„±ì„ ë†’ì´ê¸° ìœ„í•´  
  - ì—¬ëŸ¬ ê³³ì—ì„œ ê°™ì€ `UserDAO`ë¥¼ ì¬ì‚¬ìš© ê°€ëŠ¥í•˜ë„ë¡ ë§Œë“¤ê¸° ìœ„í•´  
  - í…ŒìŠ¤íŠ¸ ìš©ì´ì„±ì„ ì¦ê°€ì‹œí‚¤ê¸° ìœ„í•´ (Mocking ê°€ëŠ¥)  

---

### **ğŸš€ ì–´ë–¤ ë°©ì‹ì´ ë” ì¢‹ì„ê¹Œ?**
**ğŸ”¹ ê°„ë‹¨í•œ í”„ë¡œì íŠ¸** â†’ í˜„ì¬ ë°©ì‹ (`UserBean` â†’ `UserMapper`)ì´ ë” ê°„ë‹¨  
**ğŸ”¹ ê·œëª¨ê°€ ì»¤ì§ˆ ê²½ìš°** â†’ DAO ê³„ì¸µì„ ì¶”ê°€í•˜ëŠ” ê²ƒì´ ìœ ì§€ë³´ìˆ˜ ì¸¡ë©´ì—ì„œ ìœ ë¦¬  

**ğŸ‘‰ ì§€ê¸ˆ ê°œë°œ ì¤‘ì¸ MDMS 2ì„¸ëŒ€ ì‹œìŠ¤í…œì´ ì–´ëŠ ì •ë„ ê·œëª¨ê°€ ìˆë‹¤ë©´, DAOë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì´ ë” ì•ˆì •ì ì¼ ê°€ëŠ¥ì„±ì´ ì»¤ìš”!** ğŸš€  
í•„ìš”í•˜ë©´ `Service` ê³„ì¸µë„ ì¶”ê°€í•  ìˆ˜ë„ ìˆì–´ìš”.  

**ì¶”ê°€ ì§ˆë¬¸ ìˆìœ¼ë©´ ì•Œë ¤ì¤˜~!**
