### **ğŸ”¹ ìš”êµ¬ì‚¬í•­ ë³€ê²½ ì‚¬í•­**
- ê¸°ì¡´ì—ëŠ” **groupnameì„ ì§ì ‘ users í…Œì´ë¸”ì—ì„œ ì¡°íšŒ**í–ˆì§€ë§Œ,  
  **groupnameì´ ë‹¤ë¥¸ í…Œì´ë¸”ì— ìˆê³ , groupcode(PK)ë¡œ ì°¸ì¡°**í•˜ëŠ” ê²½ìš°ë¥¼ ì²˜ë¦¬í•´ì•¼ í•¨.  
- ì¦‰, **group í…Œì´ë¸”ì—ì„œ groupcodeì™€ groupnameì„ ê°€ì ¸ì™€ í’€ë‹¤ìš´ ë¦¬ìŠ¤íŠ¸ë¥¼ ìƒì„±**í•´ì•¼ í•¨.

---

## **âœ… í•´ê²° ë°©ë²•**
1. **í’€ë‹¤ìš´ ë¦¬ìŠ¤íŠ¸(`h:selectOneMenu`)**
   - `group` í…Œì´ë¸”ì—ì„œ **groupcode(PK)ì™€ groupname**ì„ ì¡°íšŒí•˜ì—¬ ì‚¬ìš©
   - ì‚¬ìš©ìê°€ **groupname**ì„ ì„ íƒí•˜ë©´ **groupcode**ê°€ ì „ì†¡ë¨

2. **ê²€ìƒ‰ ì‹œ groupcode ì‚¬ìš©**
   - ì‚¬ìš©ìê°€ ì„ íƒí•œ **groupname**ì„ `groupcode`ë¡œ ë³€í™˜í•˜ì—¬ ê²€ìƒ‰
   - `users` í…Œì´ë¸”ì—ì„œ `groupcode`ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê²€ìƒ‰

---

# **âœ… 1. JSF ê²€ìƒ‰ í™”ë©´ (`search.xhtml`)**
```xml
<h:form>
    <h:panelGrid columns="2">
        <h:outputLabel for="groupcode" value="Group Name" />
        <h:selectOneMenu id="groupcode" value="#{userBean.searchGroupcode}">
            <f:selectItem itemLabel="-- ì„ íƒ --" itemValue="" />
            <f:selectItems value="#{userBean.groupList}" var="group"
                itemValue="#{group.groupcode}" itemLabel="#{group.groupname}" />
        </h:selectOneMenu>

        <h:outputLabel for="name" value="Name" />
        <h:inputText id="name" value="#{userBean.searchName}" />

        <h:outputLabel for="englishName" value="English Name" />
        <h:inputText id="englishName" value="#{userBean.searchEnglishName}" />

        <h:commandButton value="ê²€ìƒ‰" action="#{userBean.searchUsers}" />
        <h:commandButton value="ì´ˆê¸°í™”" action="#{userBean.clearSearch}" />
    </h:panelGrid>

    <h:dataTable value="#{userBean.users}" var="user" border="1">
        <h:column>
            <f:facet name="header">Group Name</f:facet>
            #{user.groupname}
        </h:column>
        <h:column>
            <f:facet name="header">Group Code</f:facet>
            #{user.groupcode}
        </h:column>
        <h:column>
            <f:facet name="header">Name</f:facet>
            #{user.name}
        </h:column>
        <h:column>
            <f:facet name="header">English Name</f:facet>
            #{user.englishName}
        </h:column>
        <h:column>
            <f:facet name="header">ID</f:facet>
            #{user.id}
        </h:column>
    </h:dataTable>
</h:form>
```
### **ğŸ”¹ ë³€ê²½ëœ ë¶€ë¶„**
- **`h:selectOneMenu`**ì—ì„œ  
  `groupcode`ë¥¼ ì„ íƒí•˜ì§€ë§Œ, **ì‚¬ìš©ìëŠ” groupnameì„ ë³´ë„ë¡ ì„¤ì •**  
- **`itemValue="#{group.groupcode}"`**  
  - **DBì—ì„œëŠ” groupcode(PK)ë¥¼ ì‚¬ìš©**  
- **`itemLabel="#{group.groupname}"`**  
  - **UIì—ì„œëŠ” groupnameì„ í‘œì‹œ**

---

# **âœ… 2. Managed Bean (`UserBean.java`)**
```java
@Named
@SessionScoped
public class UserBean implements Serializable {
    private String searchGroupcode;
    private String searchName;
    private String searchEnglishName;
    private List<User> users = new ArrayList<>();
    private List<Group> groupList = new ArrayList<>();
    private final UserDAO userDAO = new UserDAO();

    @PostConstruct
    public void init() {
        groupList = userDAO.getAllGroups(); // group í…Œì´ë¸”ì—ì„œ ë°ì´í„° ì¡°íšŒ
    }

    public String getSearchGroupcode() { return searchGroupcode; }
    public void setSearchGroupcode(String searchGroupcode) { this.searchGroupcode = searchGroupcode; }
    public String getSearchName() { return searchName; }
    public void setSearchName(String searchName) { this.searchName = searchName; }
    public String getSearchEnglishName() { return searchEnglishName; }
    public void setSearchEnglishName(String searchEnglishName) { this.searchEnglishName = searchEnglishName; }
    public List<User> getUsers() { return users; }
    public List<Group> getGroupList() { return groupList; }

    public void searchUsers() {
        users = userDAO.searchUsers(searchGroupcode, searchName, searchEnglishName);
    }

    public void clearSearch() {
        searchGroupcode = "";
        searchName = "";
        searchEnglishName = "";
        users.clear();
    }
}
```
### **ğŸ”¹ ë³€ê²½ëœ ë¶€ë¶„**
- **`groupList`**: `group` í…Œì´ë¸”ì—ì„œ **groupcode + groupname ëª©ë¡ì„ ì €ì¥**  
- **ê²€ìƒ‰ ì‹œ `groupcode`ë¥¼ ì´ìš©**í•˜ì—¬ `users` í…Œì´ë¸” ì¡°íšŒ

---

# **âœ… 3. DAO (`UserDAO.java`)**
```java
public class UserDAO {
    public List<Group> getAllGroups() {
        try (SqlSession session = MyBatisUtil.getSession()) {
            return session.selectList("UserMapper.getAllGroups");
        }
    }

    public List<User> searchUsers(String groupcode, String name, String englishName) {
        try (SqlSession session = MyBatisUtil.getSession()) {
            Map<String, Object> params = new HashMap<>();
            params.put("groupcode", groupcode.isEmpty() ? null : groupcode);
            params.put("name", name.isEmpty() ? null : "%" + name + "%");
            params.put("englishName", englishName.isEmpty() ? null : "%" + englishName + "%");
            return session.selectList("UserMapper.searchUsers", params);
        }
    }
}
```
### **ğŸ”¹ ë³€ê²½ëœ ë¶€ë¶„**
- **getAllGroups()**: `group` í…Œì´ë¸”ì—ì„œ **groupcode + groupname ì¡°íšŒ**  
- **searchUsers()**: ê²€ìƒ‰ ì‹œ **groupcodeë¥¼ ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©**

---

# **âœ… 4. MyBatis Mapper (`UserMapper.xml`)**
```xml
<select id="getAllGroups" resultType="Group">
    SELECT groupcode, groupname FROM group ORDER BY groupname
</select>

<select id="searchUsers" parameterType="map" resultType="User">
    SELECT u.groupcode, g.groupname, u.name, u.english_name AS englishName, u.id
    FROM users u
    JOIN group g ON u.groupcode = g.groupcode
    WHERE (#{groupcode} IS NULL OR u.groupcode = #{groupcode})
    AND (#{name} IS NULL OR u.name LIKE #{name})
    AND (#{englishName} IS NULL OR u.english_name LIKE #{englishName})
</select>
```
### **ğŸ”¹ ë³€ê²½ëœ ë¶€ë¶„**
- **group í…Œì´ë¸”ì—ì„œ `groupcode`, `groupname`ì„ ê°€ì ¸ì˜´** (`getAllGroups`)  
- `users` í…Œì´ë¸”ì—ì„œ `groupcode`ë¥¼ ì‚¬ìš©í•˜ì—¬ **groupnameì„ ì¡°ì¸** (`searchUsers`)

---

# **âœ… 5. DTO (`Group.java`)**
```java
public class Group {
    private String groupcode;
    private String groupname;

    public String getGroupcode() { return groupcode; }
    public void setGroupcode(String groupcode) { this.groupcode = groupcode; }
    public String getGroupname() { return groupname; }
    public void setGroupname(String groupname) { this.groupname = groupname; }
}
```
### **ğŸ”¹ `group` í…Œì´ë¸”ì˜ ë°ì´í„° ì €ì¥ì„ ìœ„í•œ DTO í´ë˜ìŠ¤**

---

# **âœ… ì •ë¦¬**
âœ… **JSF (`search.xhtml`)**
- `h:selectOneMenu`ì—ì„œ **groupnameì„ ë³´ì—¬ì£¼ê³ , groupcodeë¥¼ ì„ íƒ**

âœ… **Managed Bean (`UserBean.java`)**
- **ê²€ìƒ‰ ì‹œ groupcodeë¥¼ ì´ìš©**í•˜ì—¬ `users` í…Œì´ë¸” ì¡°íšŒ  
- **group í…Œì´ë¸”ì—ì„œ groupcode + groupname ì¡°íšŒ í›„ ë¦¬ìŠ¤íŠ¸ ì €ì¥**

âœ… **DAO (`UserDAO.java`)**
- `group` í…Œì´ë¸”ì—ì„œ **groupcode + groupname ì¡°íšŒ**
- ê²€ìƒ‰ ì‹œ `users` í…Œì´ë¸”ì„ **groupcode ê¸°ì¤€ìœ¼ë¡œ ê²€ìƒ‰**

âœ… **MyBatis (`UserMapper.xml`)**
- `group` í…Œì´ë¸”ì—ì„œ **groupcode, groupname ì¡°íšŒ**
- `users` í…Œì´ë¸”ì—ì„œ `groupcode`ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê²€ìƒ‰

âœ… **DTO**
- `User.java`: ê¸°ì¡´ DTO ìœ ì§€  
- `Group.java`: `group` í…Œì´ë¸” ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” DTO ì¶”ê°€  

ì´ì œ **groupnameì´ `group` í…Œì´ë¸”ì— ìˆê³ , `groupcode`ë¥¼ ì‚¬ìš©í•˜ì—¬ ê²€ìƒ‰í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìˆ˜ì • ì™„ë£Œ!** ğŸš€  
ì¶”ê°€ ì§ˆë¬¸ ìˆìœ¼ë©´ ì–¸ì œë“ ì§€ ë¬¼ì–´ë´ ğŸ˜Š
