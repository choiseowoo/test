**JSF + MyBatis í™˜ê²½ì—ì„œ, ë°ì´í„°í…Œì´ë¸”ì—ì„œ ë‚˜ì˜¨ ê°’ ì¤‘ í•˜ë‚˜ë§Œ ì„ íƒí•˜ì—¬ ë¶€ëª¨ í˜ì´ì§€ë¡œ ê°’ì„ ì „ë‹¬í•˜ëŠ” ë°©ë²•**ì„ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.  

âœ… **ìš”êµ¬ì‚¬í•­ ì •ë¦¬:**  
1. `h:dataTable`ì—ì„œ ë°ì´í„° ì¶œë ¥  
2. ê° í–‰ë§ˆë‹¤ ë¼ë””ì˜¤ ë²„íŠ¼ ì œê³µ (í•˜ë‚˜ë§Œ ì„ íƒ ê°€ëŠ¥)  
3. "ì„ íƒ" ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë¶€ëª¨ í˜ì´ì§€ë¡œ ê°’ ì „ë‹¬  
4. **ë¼ë””ì˜¤ ë²„íŠ¼ì€ í•˜ë‚˜ë§Œ ì„ íƒ ê°€ëŠ¥**  

---

## **ğŸ“Œ 1. XHTML ì½”ë“œ (JSF)**
ì•„ë˜ ì½”ë“œì—ì„œëŠ” **JSFì˜ `h:dataTable`ì—ì„œ ì¶œë ¥ëœ ë°ì´í„°ì—ì„œ í•˜ë‚˜ë§Œ ì„ íƒ ê°€ëŠ¥**í•˜ë„ë¡ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.  

```xml
<h:form id="userForm">
    <h:dataTable value="#{userBean.userList}" var="user">
        <h:column>
            <!-- ë¼ë””ì˜¤ ë²„íŠ¼ -->
            <h:selectOneRadio id="userRadio" value="#{userBean.selectedUser}">
                <f:selectItem itemValue="#{user.id}" itemLabel="" />
            </h:selectOneRadio>
        </h:column>
        <h:column>
            <h:outputText value="#{user.name}" />
        </h:column>
    </h:dataTable>

    <!-- ì„ íƒ ë²„íŠ¼ -->
    <h:commandButton value="ì„ íƒ" type="button" onclick="sendToParent()" />
</h:form>

<script>
    function sendToParent() {
        var selectedRadio = document.querySelector("input[name='userForm:userRadio']:checked");
        if (selectedRadio) {
            var selectedValue = selectedRadio.value;
            window.opener.postMessage(selectedValue, "*"); // ë¶€ëª¨ ì°½ìœ¼ë¡œ ê°’ ì „ë‹¬
            window.close(); // í˜„ì¬ ì°½ ë‹«ê¸°
        } else {
            alert("ìœ ì €ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.");
        }
    }
</script>
```

---

## **ğŸ“Œ 2. Java Bean (`UserBean.java`)**
**ì„ íƒëœ ê°’ì„ ê´€ë¦¬í•˜ëŠ” ë¹ˆì„ ì„¤ì •**í•©ë‹ˆë‹¤.  

```java
import jakarta.inject.Named;
import jakarta.enterprise.context.SessionScoped;
import java.io.Serializable;
import java.util.List;

@Named
@SessionScoped
public class UserBean implements Serializable {
    private List<User> userList;  // DBì—ì„œ ê°€ì ¸ì˜¨ ìœ ì € ë¦¬ìŠ¤íŠ¸
    private String selectedUser;  // ì„ íƒëœ ìœ ì € ID

    // Getter & Setter
    public List<User> getUserList() { return userList; }
    public void setUserList(List<User> userList) { this.userList = userList; }
    
    public String getSelectedUser() { return selectedUser; }
    public void setSelectedUser(String selectedUser) { this.selectedUser = selectedUser; }
}
```

---

## **ğŸ“Œ 3. ë¶€ëª¨ í˜ì´ì§€ì—ì„œ ê°’ ë°›ê¸°**
JSFëŠ” íŒì—…ì„ í†µí•œ ê°’ ì „ë‹¬ì´ ì–´ë ¤ìš¸ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, **JavaScriptì˜ `postMessage()`ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¶€ëª¨ í˜ì´ì§€ë¡œ ê°’ ì „ë‹¬**í•©ë‹ˆë‹¤.  

ë¶€ëª¨ í˜ì´ì§€ì—ì„œ `message` ì´ë²¤íŠ¸ë¥¼ ë°›ì•„ ì²˜ë¦¬í•©ë‹ˆë‹¤.

```html
<script>
    window.addEventListener("message", function(event) {
        console.log("ë°›ì€ ê°’:", event.data);
        document.getElementById("selectedUser").innerText = "ì„ íƒëœ ìœ ì € ID: " + event.data;
    });
</script>

<p id="selectedUser">ì„ íƒëœ ìœ ì € ì—†ìŒ</p>
```

---

## **ğŸ“Œ 4. ê²°ê³¼**
1. `h:dataTable`ì—ì„œ ìœ ì € ë¦¬ìŠ¤íŠ¸ ì¶œë ¥  
2. **í•œ ê°œì˜ ë¼ë””ì˜¤ ë²„íŠ¼ë§Œ ì„ íƒ ê°€ëŠ¥**  
3. "ì„ íƒ" ë²„íŠ¼ í´ë¦­ ì‹œ, **ë¶€ëª¨ í˜ì´ì§€ë¡œ ê°’ ì „ë‹¬ (`postMessage`)**  
4. **í˜„ì¬ ì°½ ë‹«ê¸° (`window.close()`)**  
5. **ë¶€ëª¨ í˜ì´ì§€ì—ì„œ ì„ íƒëœ ê°’ ì¶œë ¥**  

âœ… **í…Œì´ë¸” ë‚´ì—ì„œ ë¼ë””ì˜¤ ë²„íŠ¼ì„ í•˜ë‚˜ë§Œ ì„ íƒ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •í–ˆê³ , ì„ íƒ í›„ ë¶€ëª¨ í˜ì´ì§€ë¡œ ê°’ì„ ë„˜ê¸°ëŠ” ë°©ì‹ì´ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤!**
