### **âœ… í•´ê²°í•´ì•¼ í•  ë¬¸ì œ**  
1. **ì²« í˜ì´ì§€ì—ì„œ ë‹¤ìŒ í˜ì´ì§€ë¡œ ì´ë™ ì•ˆ ë¨**  
   - â†’ **OFFSETì„ ì˜ëª» ê³„ì‚°í•œ ê°€ëŠ¥ì„±**ì´ ìˆìŒ.  
2. **ê²€ìƒ‰ ì¡°ê±´ ì—†ì´ ì „ì²´ ë°ì´í„° ê²€ìƒ‰ ì‹œ í•œ í˜ì´ì§€ì— ëª¨ë“  ë°ì´í„°ê°€ í‘œì‹œë¨**  
   - â†’ **í˜ì´ì§• ì ìš©ë˜ì§€ ì•Šì€ SQL ì‹¤í–‰ë¨**  

---

## **âœ… 1ï¸âƒ£ í•´ê²° ë°©ë²•**  
### **1. OFFSET ê³„ì‚° ì˜¤ë¥˜ ìˆ˜ì •**
- `currentPage = 1`ì¼ ë•Œ, `OFFSET`ì´ `0`ì´ ë˜ë„ë¡ ì„¤ì •

### **2. í˜ì´ì§• ì •ìƒ ì‘ë™í•˜ë„ë¡ ìˆ˜ì •**
- `getAllUsers`ì—ì„œ `LIMIT #{limit} OFFSET #{offset}` ì ìš©  
- ê²€ìƒ‰ ì¡°ê±´ ì—†ì„ ë•Œë„ ê°™ì€ `LIMIT`ê³¼ `OFFSET` ì‚¬ìš©

---

## **âœ… 2ï¸âƒ£ MyBatis Mapper ìˆ˜ì • (`UserMapper.xml`)**
```xml
<!-- ì „ì²´ ë°ì´í„° ê°œìˆ˜ ì¡°íšŒ -->
<select id="getUserCount" resultType="int">
    SELECT COUNT(*) FROM users
</select>

<!-- ëª¨ë“  ë°ì´í„° ì¡°íšŒ (í˜ì´ì§• ì ìš©) -->
<select id="getAllUsers" parameterType="map" resultType="User">
    SELECT groupname, groupcode, name FROM users
    LIMIT #{limit} OFFSET #{offset}
</select>

<!-- ì¡°ê±´ ê²€ìƒ‰ (í˜ì´ì§• ì ìš©) -->
<select id="searchUsers" parameterType="map" resultType="User">
    SELECT groupname, groupcode, name FROM users
    WHERE (#{groupname} IS NULL OR groupname = #{groupname})
    AND (#{name} IS NULL OR name LIKE #{name})
    LIMIT #{limit} OFFSET #{offset}
</select>
```

---

## **âœ… 3ï¸âƒ£ DAO ìˆ˜ì • (`UserDAO.java`)**
```java
public int getUserCount() {
    try (SqlSession session = MyBatisUtil.getSession()) {
        return session.selectOne("UserMapper.getUserCount");
    }
}

public List<User> searchUsers(String groupname, String name, int currentPage, int pageSize) {
    try (SqlSession session = MyBatisUtil.getSession()) {
        int offset = (currentPage - 1) * pageSize;  // OFFSET ê³„ì‚° (ì²« í˜ì´ì§€ëŠ” 0)
        int limit = pageSize;

        Map<String, Object> params = new HashMap<>();
        params.put("groupname", (groupname == null || groupname.isEmpty()) ? null : groupname);
        params.put("name", (name == null || name.isEmpty()) ? null : "%" + name + "%");
        params.put("limit", limit);
        params.put("offset", offset);

        return session.selectList("UserMapper.searchUsers", params);
    }
}
```

---

## **âœ… 4ï¸âƒ£ Managed Bean ìˆ˜ì • (`UserBean.java`)**
```java
@Named
@SessionScoped
public class UserBean implements Serializable {
    private String searchGroupname;
    private String searchName;
    private int currentPage = 1;
    private int pageSize = 10;
    private int totalRecords;
    private List<User> users = new ArrayList<>();
    private final UserDAO userDAO = new UserDAO();

    public void searchUsers() {
        totalRecords = userDAO.getUserCount();
        users = userDAO.searchUsers(searchGroupname, searchName, currentPage, pageSize);
    }

    public void goToFirstPage() {
        currentPage = 1;
        searchUsers();
    }

    public void goToPreviousPage() {
        if (currentPage > 1) {
            currentPage--;
            searchUsers();
        }
    }

    public void goToNextPage() {
        if (currentPage < getTotalPages()) {
            currentPage++;
            searchUsers();
        }
    }

    public void goToLastPage() {
        currentPage = getTotalPages();
        searchUsers();
    }

    public int getTotalPages() {
        return (int) Math.ceil((double) totalRecords / pageSize);
    }

    // Getter & Setter ìƒëµ
}
```

---

## **âœ… 5ï¸âƒ£ JSF í˜ì´ì§• ë²„íŠ¼ ì¶”ê°€ (`search.xhtml`)**
```xml
<h:panelGroup rendered="#{not empty userBean.users}">
    <h:dataTable value="#{userBean.users}" var="user" border="1">
        <h:column><f:facet name="header">Group Name</f:facet> #{user.groupname} </h:column>
        <h:column><f:facet name="header">Group Code</f:facet> #{user.groupcode} </h:column>
        <h:column><f:facet name="header">Name</f:facet> #{user.name} </h:column>
    </h:dataTable>

    <h:panelGrid columns="4">
        <h:commandButton value="<< ë§¨ì•" action="#{userBean.goToFirstPage}" disabled="#{userBean.currentPage == 1}" />
        <h:commandButton value="< ì´ì „" action="#{userBean.goToPreviousPage}" disabled="#{userBean.currentPage == 1}" />
        <h:outputText value="í˜ì´ì§€ #{userBean.currentPage} / #{userBean.totalPages}" />
        <h:commandButton value="ë‹¤ìŒ >" action="#{userBean.goToNextPage}" disabled="#{userBean.currentPage == userBean.totalPages}" />
        <h:commandButton value="ë§¨ë’¤ >>" action="#{userBean.goToLastPage}" disabled="#{userBean.currentPage == userBean.totalPages}" />
    </h:panelGrid>
</h:panelGroup>
```

---

## **âœ… í•´ê²°ëœ ë¬¸ì œ**
1. **í˜ì´ì§• ì •ìƒ ì‘ë™**  
   - `OFFSET` ê³„ì‚°ì´ ì˜¬ë°”ë¥´ê²Œ ì ìš©ë¨ â†’ **ì²« í˜ì´ì§€ì—ì„œ ë‹¤ìŒ í˜ì´ì§€ ì´ë™ ê°€ëŠ¥**
2. **ê²€ìƒ‰ ì¡°ê±´ ì—†ì´ ì‹¤í–‰ ê°€ëŠ¥**  
   - `getAllUsers()`ì—ì„œë„ **í˜ì´ì§• (`LIMIT`, `OFFSET`)ì´ ì ìš©ë¨**  
   - **í•œ í˜ì´ì§€ì— ëª¨ë“  ë°ì´í„°ê°€ í‘œì‹œë˜ì§€ ì•ŠìŒ**  
3. **í˜ì´ì§• ë²„íŠ¼ í™œì„±/ë¹„í™œì„±**  
   - ì²« í˜ì´ì§€ì—ì„œ `ì´ì „` ë¹„í™œì„±í™”  
   - ë§ˆì§€ë§‰ í˜ì´ì§€ì—ì„œ `ë‹¤ìŒ` ë¹„í™œì„±í™”  

ì´ì œ **ê²€ìƒ‰ ì—†ì´ ëª¨ë“  ë°ì´í„° ì¡°íšŒ ê°€ëŠ¥ + í˜ì´ì§•ë„ ì •ìƒ ë™ì‘**í•©ë‹ˆë‹¤! ğŸš€  
í…ŒìŠ¤íŠ¸í•´ë³´ê³  ë¬¸ì œ ìˆìœ¼ë©´ ë§í•´ì¤˜!
