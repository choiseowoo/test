## âœ… **ê¸°ëŠ¥ ì„¤ëª…**
1. **ê²€ìƒ‰ í˜ì´ì§€ (`search.xhtml`)**  
   - **ê·¸ë£¹ëª… ì„ íƒ (`h:selectOneMenu`)**, **ì´ë¦„ ê²€ìƒ‰ (`h:inputText`)**  
   - **ê²€ìƒ‰ ê²°ê³¼ í…Œì´ë¸” (`h:dataTable`)** â†’ **ë¼ë””ì˜¤ ë²„íŠ¼ìœ¼ë¡œ ê·¸ë£¹ ì„ íƒ ê°€ëŠ¥**  
   - **ì„ íƒ ë²„íŠ¼ (`h:commandButton`)** â†’ **ì„ íƒí•œ `groupcode`ë¥¼ ì´ì „ í˜ì´ì§€ë¡œ ì „ì†¡**  

2. **ê¶Œí•œ ë¶€ì—¬ í˜ì´ì§€ (`authorization.xhtml`)**  
   - **ì„ íƒí•œ `groupcode`ë¥¼ `h:outputLabel`ì— í‘œì‹œ** (ìˆ˜ì • ë¶ˆê°€)  
   - **ë“±ë¡ ë²„íŠ¼ (`h:commandButton`)** â†’ `groupcode`ì˜ ìœ ì €ì—ê²Œ ê¶Œí•œ ë¶€ì—¬  

---

# âœ… **1ï¸âƒ£ ê²€ìƒ‰ í˜ì´ì§€ (`search.xhtml`)**
```xml
<h:form id="searchForm">
    <h:panelGrid columns="2">
        <h:outputLabel for="groupname" value="Group Name" />
        <h:selectOneMenu id="groupname" value="#{userBean.searchGroupname}">
            <f:selectItem itemLabel="-- ì„ íƒ --" itemValue="" />
            <f:selectItems value="#{userBean.groupnameList}" var="group" itemValue="#{group}" itemLabel="#{group}" />
        </h:selectOneMenu>

        <h:outputLabel for="name" value="Name" />
        <h:inputText id="name" value="#{userBean.searchName}" />

        <h:commandButton value="ê²€ìƒ‰" action="#{userBean.searchUsers}" update="resultTable" />
        <h:commandButton value="ì´ˆê¸°í™”" action="#{userBean.clearSearch}" update="resultTable" />
    </h:panelGrid>
</h:form>

<h:form id="resultForm">
    <h:panelGroup id="resultTable" rendered="#{not empty userBean.users}">
        <h:dataTable value="#{userBean.users}" var="user" border="1">
            <h:column>
                <f:facet name="header">ì„ íƒ</f:facet>
                <h:selectOneRadio value="#{userBean.selectedUserId}">
                    <f:selectItem itemValue="#{user.id}" />
                </h:selectOneRadio>
            </h:column>
            <h:column><f:facet name="header">Group Name</f:facet> #{user.groupname} </h:column>
            <h:column><f:facet name="header">Group Code</f:facet> #{user.groupcode} </h:column>
            <h:column><f:facet name="header">Name</f:facet> #{user.name} </h:column>
        </h:dataTable>

        <h:commandButton value="ì„ íƒ" action="#{userBean.selectUser}" />
    </h:panelGroup>
</h:form>
```

âœ… **ì¶”ê°€ëœ ê¸°ëŠ¥**  
- **`h:selectOneRadio`** â†’ í•œ ê°œì˜ ì„ íƒì§€ë§Œ ê°€ëŠ¥  
- **`h:commandButton (ì„ íƒ)`** â†’ ì„ íƒí•œ `groupcode`ë¥¼ **ì´ì „ í˜ì´ì§€ (`authorization.xhtml`)ë¡œ ì´ë™**  

---

# âœ… **2ï¸âƒ£ ê¶Œí•œ ë¶€ì—¬ í˜ì´ì§€ (`authorization.xhtml`)**
```xml
<h:form id="authForm">
    <h:panelGrid columns="2">
        <h:outputLabel for="groupcode" value="ì„ íƒëœ Group Code" />
        <h:outputLabel id="groupcode" value="#{userBean.selectedGroupCode}" />

        <h:commandButton value="ë“±ë¡" action="#{userBean.grantPermission}" />
    </h:panelGrid>
</h:form>
```

âœ… **ì¶”ê°€ëœ ê¸°ëŠ¥**  
- **`h:outputLabel`** â†’ **ì„ íƒëœ `groupcode` í‘œì‹œ (ìˆ˜ì • ë¶ˆê°€)**  
- **`h:commandButton (ë“±ë¡)`** â†’ ì„ íƒëœ `groupcode`ì˜ ìœ ì €ì—ê²Œ ê¶Œí•œ ë¶€ì—¬  

---

# âœ… **3ï¸âƒ£ Managed Bean (`UserBean.java`)**
```java
@Named
@SessionScoped
public class UserBean implements Serializable {
    private String searchGroupname;
    private String searchName;
    private List<User> users = new ArrayList<>();
    private String selectedUserId;
    private String selectedGroupCode;
    private final UserDAO userDAO = new UserDAO();

    public void searchUsers() {
        users = userDAO.searchUsers(searchGroupname, searchName);
    }

    public void clearSearch() {
        searchGroupname = "";
        searchName = "";
        users.clear();
    }

    public void selectUser() {
        if (selectedUserId != null) {
            for (User user : users) {
                if (user.getId().equals(selectedUserId)) {
                    selectedGroupCode = user.getGroupcode();
                    break;
                }
            }
        }
    }

    public void grantPermission() {
        if (selectedGroupCode != null && !selectedGroupCode.isEmpty()) {
            userDAO.assignPermission(selectedGroupCode);
        }
    }

    // Getter & Setter ìƒëµ
}
```

âœ… **ì¶”ê°€ëœ ê¸°ëŠ¥**  
- `selectUser()`: ì„ íƒí•œ `groupcode`ë¥¼ ì €ì¥  
- `grantPermission()`: ì„ íƒí•œ `groupcode`ì— ê¶Œí•œ ë¶€ì—¬  

---

# âœ… **4ï¸âƒ£ DAO (`UserDAO.java`)**
```java
public class UserDAO {
    public void assignPermission(String groupcode) {
        try (SqlSession session = MyBatisUtil.getSession()) {
            session.update("UserMapper.assignPermission", groupcode);
            session.commit();
        }
    }
}
```

âœ… **ì¶”ê°€ëœ ê¸°ëŠ¥**  
- `assignPermission()`: MyBatisë¥¼ ì´ìš©í•´ `groupcode`ì˜ ìœ ì €ì—ê²Œ ê¶Œí•œ ë¶€ì—¬  

---

# âœ… **5ï¸âƒ£ MyBatis Mapper (`UserMapper.xml`)**
```xml
<update id="assignPermission" parameterType="string">
    UPDATE users SET permission = 'GRANTED' WHERE groupcode = #{groupcode}
</update>
```

âœ… **ì¶”ê°€ëœ ê¸°ëŠ¥**  
- `groupcode`ê°€ ì¼ì¹˜í•˜ëŠ” ìœ ì €ì—ê²Œ **ê¶Œí•œì„ 'GRANTED'ë¡œ ì„¤ì •**  

---

# âœ… **ìµœì¢… ë™ì‘**
1. **ê²€ìƒ‰ í˜ì´ì§€ (`search.xhtml`)**  
   - **ê·¸ë£¹ ì„ íƒ í›„ `ì„ íƒ ë²„íŠ¼` í´ë¦­** â†’ `groupcode` ì €ì¥  
   - **ì´ì „ í˜ì´ì§€ (`authorization.xhtml`)ë¡œ ì´ë™**  

2. **ê¶Œí•œ ë¶€ì—¬ í˜ì´ì§€ (`authorization.xhtml`)**  
   - **ì„ íƒëœ `groupcode`ê°€ `h:outputLabel`ì— í‘œì‹œë¨**  
   - **`ë“±ë¡ ë²„íŠ¼` í´ë¦­ ì‹œ ê¶Œí•œ ë¶€ì—¬**  

---

í…ŒìŠ¤íŠ¸í•´ë³´ê³  ë¬¸ì œ ìˆìœ¼ë©´ ì•Œë ¤ì¤˜! ğŸš€
