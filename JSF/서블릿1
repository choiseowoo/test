### **ğŸ“Œ `FacesContext.getCurrentInstance()`ê°€ `null`ì„ ë°˜í™˜í•˜ëŠ” ì´ìœ **
`FacesContext.getCurrentInstance()`ëŠ” **JSF(JavaServer Faces) ë¼ì´í”„ì‚¬ì´í´ ì¤‘ì—ì„œë§Œ ìœ íš¨**í•©ë‹ˆë‹¤.  
ì¦‰, **JSF ìš”ì²­ì´ ì²˜ë¦¬ë˜ëŠ” ë™ì•ˆ**ì—ë§Œ `FacesContext`ê°€ ìƒì„±ë˜ë©°, **JSF ì»¨í…ìŠ¤íŠ¸ ì™¸ë¶€ì—ì„œëŠ” `null`ì„ ë°˜í™˜**í•©ë‹ˆë‹¤.

---

### **ğŸ“Œ `@WebListener`ì—ì„œ `FacesContext.getCurrentInstance()`ê°€ `null`ì¸ ì´ìœ **
`@WebListener`ëŠ” **ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆ(WildFly, Tomcat ë“±)**ì—ì„œ ì‹¤í–‰ë˜ëŠ” **ì„œë¸”ë¦¿ ë¦¬ìŠ¤ë„ˆ**ì…ë‹ˆë‹¤.  
ì„œë¸”ë¦¿ ë¦¬ìŠ¤ë„ˆëŠ” **ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹œì **ì— ì‹¤í–‰ë˜ë©°, ì´ ì‹œì ì—ëŠ” **JSF ì»¨í…ìŠ¤íŠ¸ê°€ ì•„ì§ ì´ˆê¸°í™”ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— `FacesContext.getCurrentInstance()`ê°€ `null`**ì´ ë©ë‹ˆë‹¤.

âœ” **ì¦‰, `@WebListener`ì˜ `init()` ë©”ì„œë“œëŠ” JSF ìš”ì²­ê³¼ëŠ” ë³„ê°œë¡œ ì‹¤í–‰ë˜ë¯€ë¡œ `FacesContext`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.**  
âœ” **JSF ìš”ì²­ì´ ë°œìƒí•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ `FacesContext.getCurrentInstance()`ë¥¼ í˜¸ì¶œí•˜ë©´ í•­ìƒ `null`ì´ ë°˜í™˜ë©ë‹ˆë‹¤.**

---

### **ğŸ“Œ `FacesContext.getCurrentInstance()`ì˜ ì—­í• **
ì´ ë©”ì„œë“œëŠ” í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ JSF ìš”ì²­ì˜ ì»¨í…ìŠ¤íŠ¸ ì •ë³´ë¥¼ ë°˜í™˜í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.

- **JSF ìš”ì²­ì´ ì‹¤í–‰ ì¤‘ì¼ ë•Œë§Œ ì¡´ì¬**í•˜ë©°, `FacesContext`ë¥¼ í†µí•´ ìš”ì²­, ì‘ë‹µ, ì„¸ì…˜ ë“±ì˜ ì •ë³´ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **JSF ìš”ì²­ì´ ì—†ëŠ” ìƒíƒœ(ì˜ˆ: `@WebListener`, `@PostConstruct` ì´ˆê¸°í™”, `@Singleton` Bean ë“±)ì—ì„œëŠ” `null`ì´ ë°˜í™˜ë¨**.

---

### **ğŸ“Œ í•´ê²° ë°©ë²•: `ServletContext` ì‚¬ìš©í•˜ê¸°**
`@WebListener`ì—ì„œ `FacesContext`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, **ëŒ€ì‹  `ServletContext`ë¥¼ í™œìš©í•´ì•¼ í•©ë‹ˆë‹¤.**  

#### âœ… **1. `@WebListener`ì—ì„œ `ServletContext`ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°’ì„ ì €ì¥**
```java
import jakarta.servlet.ServletContext;
import jakarta.servlet.ServletContextEvent;
import jakarta.servlet.ServletContextListener;
import jakarta.servlet.annotation.WebListener;

@WebListener
public class AppStartupListener implements ServletContextListener {
    @Override
    public void contextInitialized(ServletContextEvent sce) {
        ServletContext context = sce.getServletContext();
        
        // ì´ˆê¸°ê°’ì„ ì„¤ì •í•˜ì—¬ ì €ì¥
        context.setAttribute("globalSetting", "ì´ˆê¸°ê°’ ì„¤ì • ì™„ë£Œ");
        
        System.out.println("ğŸ”¹ [WebListener] ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ - ê°’ ì €ì¥ ì™„ë£Œ");
    }

    @Override
    public void contextDestroyed(ServletContextEvent sce) {
        System.out.println("ğŸ”¹ [WebListener] ì• í”Œë¦¬ì¼€ì´ì…˜ ì¢…ë£Œ");
    }
}
```

---

#### âœ… **2. `JSF Managed Bean`ì—ì„œ `ServletContext` ê°’ì„ ê°€ì ¸ì˜¤ê¸°**
JSF ìš”ì²­ì´ ìˆì„ ë•ŒëŠ” `FacesContext`ì—ì„œ `ServletContext`ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```java
import jakarta.enterprise.context.RequestScoped;
import jakarta.faces.context.FacesContext;
import jakarta.inject.Named;
import jakarta.servlet.ServletContext;

@Named
@RequestScoped
public class ConfigBean {
    public String getGlobalSetting() {
        ServletContext context = (ServletContext) FacesContext.getCurrentInstance()
                .getExternalContext().getContext();
        return (String) context.getAttribute("globalSetting");
    }
}
```

---

#### âœ… **3. JSF í˜ì´ì§€ì—ì„œ ì¶œë ¥ (`index.xhtml`)**
```xml
<h:outputText value="Global Setting: #{configBean.globalSetting}" />
```

---

### **ğŸ“Œ ì •ë¦¬**
1. **`FacesContext.getCurrentInstance()`ëŠ” JSF ìš”ì²­ ì¤‘ì—ë§Œ ìœ íš¨**  
   â†’ JSF ìš”ì²­ì´ ì—†ëŠ” ìƒíƒœ(`@WebListener`, `@Singleton` ë“±)ì—ì„œëŠ” `null` ë°˜í™˜ë¨.
   
2. **ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ˆê¸°í™” ì‹œì—ëŠ” `ServletContext`ë¥¼ í™œìš©í•´ì•¼ í•¨**  
   â†’ `@WebListener`ì—ì„œ `ServletContext.setAttribute()`ë¡œ ê°’ì„ ì €ì¥í•˜ê³ ,  
   â†’ JSFì—ì„œ `FacesContext.getCurrentInstance().getExternalContext().getContext()`ë¡œ ê°€ì ¸ì˜´.

3. **JSFê°€ ì‹¤í–‰ë  ë•Œë§Œ `FacesContext`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤**  
   â†’ **ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì—­ ì„¤ì •ì´ë‚˜ ì´ˆê¸° ë°ì´í„°ëŠ” `ServletContext`ì— ì €ì¥í•˜ëŠ” ê²ƒì´ ì˜¬ë°”ë¥¸ ë°©ë²•**.

âœ” ì´ë ‡ê²Œ í•˜ë©´ **JSF ìš”ì²­ì´ ì—†ëŠ” ì´ˆê¸°í™” ë‹¨ê³„ì—ì„œë„ ê°’ì„ ì„¤ì •í•  ìˆ˜ ìˆê³ , ì´í›„ JSF ìš”ì²­ì´ ë°œìƒí•˜ë©´ í•´ë‹¹ ê°’ì„ ê°€ì ¸ì™€ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.**
