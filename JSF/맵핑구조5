### âœ… **DTO(Data Transfer Object) ì‚¬ìš© ë²”ìœ„**  
DTOëŠ” ë°ì´í„° ì „ë‹¬ì„ ìœ„í•œ ê°ì²´ì´ë¯€ë¡œ **í•„ìš”í•œ ê³³ì—ì„œë§Œ ì‚¬ìš©**í•˜ë©´ ë¼.  
ì•„ë˜ì²˜ëŸ¼ **ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ìœ„ì¹˜**ë¥¼ ì •ë¦¬í•´ë³¼ê²Œ.  

---

## **1ï¸âƒ£ `Mapper.xml` â†’ `Mapper.java` (ì¸í„°í˜ì´ìŠ¤)ì—ì„œ ì‚¬ìš©**
- **MyBatisê°€ ê²°ê³¼ë¥¼ ë§¤í•‘í•  ë•Œ DTOë¥¼ ì‚¬ìš©**  
- SQL ì¡°íšŒ ê²°ê³¼ë¥¼ DTO í˜•íƒœë¡œ ë³€í™˜í•´ ë°˜í™˜  
- DTOë¥¼ SQLì˜ `parameterType` ë° `resultType`ìœ¼ë¡œ ì§€ì •  

ğŸ“Œ **ì˜ˆì œ (`UserMapper.xml`)**
```xml
<mapper namespace="com.example.mapper.UserMapper">

    <!-- ëª¨ë“  ì‚¬ìš©ì ì¡°íšŒ -->
    <select id="getUserList" resultType="com.example.dto.User">
        SELECT id, name, email FROM users;
    </select>

    <!-- íŠ¹ì • IDë¡œ ì‚¬ìš©ì ì¡°íšŒ -->
    <select id="getUserById" parameterType="String" resultType="com.example.dto.User">
        SELECT id, name, email FROM users WHERE id = #{id};
    </select>

</mapper>
```

ğŸ“Œ **ì˜ˆì œ (`UserMapper.java`)**
```java
package com.example.mapper;

import com.example.dto.User;
import java.util.List;

public interface UserMapper {
    List<User> getUserList();  // XMLì˜ <select id="getUserList"> ì‹¤í–‰
    User getUserById(String id); // XMLì˜ <select id="getUserById"> ì‹¤í–‰
}
```

---

## **2ï¸âƒ£ `DAO`ì—ì„œ `sqlSession.getMapper()`ë¥¼ ì‚¬ìš©í•´ DTO ë°˜í™˜**
- **Mapper ì¸í„°í˜ì´ìŠ¤ë¥¼ í˜¸ì¶œí•˜ì—¬ ë°ì´í„°ë¥¼ DTO í˜•íƒœë¡œ ë°›ìŒ**  
- **DAOì—ì„œ DTOë¥¼ ì§ì ‘ ìƒì„±í•˜ì§€ ì•Šê³ , Mapperì—ì„œ ë°˜í™˜ëœ ë°ì´í„°ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©**  

ğŸ“Œ **ì˜ˆì œ (`UserDAO.java`)**
```java
package com.example.dao;

import com.example.dto.User;
import com.example.mapper.UserMapper;
import org.apache.ibatis.session.SqlSession;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Repository;
import java.util.List;

@Repository
public class UserDAO {
    @Autowired
    private SqlSession sqlSession;

    // ëª¨ë“  ì‚¬ìš©ì ì¡°íšŒ
    public List<User> getAllUsers() {
        return sqlSession.getMapper(UserMapper.class).getUserList();
    }

    // íŠ¹ì • IDë¡œ ì‚¬ìš©ì ì¡°íšŒ
    public User getUserById(String id) {
        return sqlSession.getMapper(UserMapper.class).getUserById(id);
    }
}
```

---

## **3ï¸âƒ£ `Managed Bean`ì—ì„œ DAOë¥¼ í˜¸ì¶œí•˜ì—¬ DTO ì‚¬ìš©**
- **DAOì—ì„œ ë°˜í™˜ëœ DTOë¥¼ ì‚¬ìš©í•˜ì—¬ í™”ë©´ì—ì„œ í™œìš©**  
- ê²€ìƒ‰ ê¸°ëŠ¥ì—ì„œ DTOë¥¼ í™œìš©í•´ ë°ì´í„° ì¶œë ¥  

ğŸ“Œ **ì˜ˆì œ (`UserBean.java`)**
```java
@ManagedBean
@ViewScoped
public class UserBean {
    @Autowired
    private UserDAO userDAO;

    private List<User> users;
    private String searchId;

    @PostConstruct
    public void init() {
        users = userDAO.getAllUsers();  // ì´ˆê¸° ë°ì´í„° ë¡œë“œ
    }

    public void searchUser() {
        User user = userDAO.getUserById(searchId);
        if (user != null) {
            users = List.of(user); // ê²€ìƒ‰ ê²°ê³¼ë¥¼ ë¦¬ìŠ¤íŠ¸ì— ì €ì¥
        }
    }

    // Getter & Setter
}
```

---

## **4ï¸âƒ£ JSF í™”ë©´ì—ì„œ DTO ë°ì´í„°ë¥¼ ì‚¬ìš©**
- **Managed Beanì—ì„œ DTO ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ ì¶œë ¥**  
- `h:dataTable`ì„ ì´ìš©í•´ DTO í•„ë“œë¥¼ í™”ë©´ì— í‘œì‹œ  

ğŸ“Œ **ì˜ˆì œ (`userlist.xhtml`)**
```xml
<h:form>
    <!-- ID ê²€ìƒ‰ -->
    <h:panelGrid columns="2">
        <h:outputLabel value="ID ê²€ìƒ‰:" />
        <h:inputText value="#{userBean.searchId}" />
        <h:commandButton value="ê²€ìƒ‰" action="#{userBean.searchUser}" />
    </h:panelGrid>

    <!-- ì‚¬ìš©ì ëª©ë¡ -->
    <h:dataTable value="#{userBean.users}" var="user">
        <h:column><f:facet name="header">ID</f:facet>#{user.id}</h:column>
        <h:column><f:facet name="header">ì´ë¦„</f:facet>#{user.name}</h:column>
        <h:column><f:facet name="header">ì´ë©”ì¼</f:facet>#{user.email}</h:column>
    </h:dataTable>
</h:form>
```

---

## **âœ… DTOëŠ” ì–´ë””ì—ì„œ í•„ìš”í• ê¹Œ?**
| ê³„ì¸µ  | DTO ì‚¬ìš© ì—¬ë¶€ | ì„¤ëª… |
|-------|-------------|-------|
| `Mapper.xml`  | âœ… ì‚¬ìš© | SQL ì¡°íšŒ ê²°ê³¼ë¥¼ DTOë¡œ ë³€í™˜ (`resultType="com.example.dto.User"`) |
| `Mapper.java` | âœ… ì‚¬ìš© | DTOë¥¼ ë°˜í™˜í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ ë©”ì„œë“œ ì •ì˜ |
| `DAO` | âœ… ì‚¬ìš© | Mapperì—ì„œ ë°˜í™˜ëœ DTOë¥¼ ë°›ì•„ ê·¸ëŒ€ë¡œ ì‚¬ìš© |
| `Managed Bean` | âœ… ì‚¬ìš© | DAOì—ì„œ DTOë¥¼ ë°›ì•„ í™”ë©´ì— í‘œì‹œ |
| `JSF (xhtml)` | âŒ ì‚¬ìš© X | DTOë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ì§€ ì•Šê³  `Managed Bean`ì„ í†µí•´ ê°’ í‘œì‹œ |

**âœ… DTOëŠ” `Mapper`, `DAO`, `Managed Bean`ì—ì„œ ì‚¬ìš©í•˜ê³ , `JSF í™”ë©´`ì—ì„œëŠ” `Managed Bean`ì„ í†µí•´ ì ‘ê·¼í•˜ë©´ ë¼!**  
ì¦‰, DTOëŠ” **ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ëŠ” ê³³ì—ì„œë§Œ í•„ìš”í•˜ê³ , í•„ìš”í•˜ì§€ ì•Šì€ ê³³ì—ì„œëŠ” ì•ˆ ì¨ë„ ëœë‹¤.**  

ì´ì œ ê°œë…ì´ ì˜ ì •ë¦¬ëì„ ê±°ì•¼!  
ì¶”ê°€ë¡œ ê¶ê¸ˆí•œ ê²Œ ìˆìœ¼ë©´ ë§í•´ì¤˜ ğŸ˜Š
