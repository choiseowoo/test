가능해 👍
**공통으로 포함되는 `paging.xhtml` / `menu.xhtml` 에서 JS로 전역 제어**하면 된다.

핵심은:

> 🔹 각 input마다 스크립트 안 붙이고
> 🔹 공통 레이아웃에 한 번만 JS 작성해서
> 🔹 모든 페이지 input을 자동 제어

---

# ✅ 방법 1️⃣ 공통 layout에 전역 JS 추가 (추천 ⭐)

예를 들어 `menu.xhtml` 이 모든 페이지에 `<ui:include>` 되어 있다면:

```xhtml
<h:outputScript target="body">
document.addEventListener("input", function(e) {

    var el = e.target;

    // input 또는 textarea만 적용
    if (el.tagName === "INPUT" || el.tagName === "TEXTAREA") {

        // maxlength 속성 있는 경우만
        var max = el.getAttribute("maxlength");

        if (max) {
            max = parseInt(max);
            if (el.value.length > max) {
                el.value = el.value.substring(0, max);
            }
        }
    }
});
</h:outputScript>
```

---

## 🔥 이 방식의 장점

✔ Ctrl+Z 허용
✔ Ctrl+Y 허용
✔ 붙여넣기 대응
✔ PrimeFaces / JSF 둘 다 적용
✔ 페이지 추가해도 자동 적용
✔ 각 input 수정 필요 없음

---

# ✅ 방법 2️⃣ class 기준으로 제어 (더 안전)

모든 입력에 적용하면 곤란한 경우:

```xhtml
<h:inputText styleClass="limit-input" maxlength="10" />
```

공통 JS:

```javascript
document.addEventListener("input", function(e) {
    if (e.target.classList.contains("limit-input")) {
        var max = parseInt(e.target.getAttribute("maxlength"));
        if (e.target.value.length > max) {
            e.target.value = e.target.value.slice(0, max);
        }
    }
});
```

👉 숫자 전용, 금액, 특수 필드는 제외 가능

---

# ⚠ PrimeFaces Ajax 대응 필수

PrimeFaces는 AJAX로 DOM이 다시 그려진다.
하지만 우리가 `document.addEventListener("input")` 를 사용하면

👉 **이벤트 위임 방식**이라서
👉 AJAX 재렌더링 되어도 자동 적용된다.

따라서 별도 재바인딩 필요 없음.

---

# 🎯 결론

| 방법              | 유지보수  | 추천  |
| --------------- | ----- | --- |
| 각 input마다 JS    | ❌     | 비추천 |
| Converter       | 안정적   | 좋음  |
| 공통 layout 전역 JS | ⭐⭐⭐⭐⭐ | 최고  |

---

# 💡 실무에서는 이렇게 한다

1. 전역 JS로 클라이언트 강제 컷
2. 서버에 f:validateLength 추가
3. 중요 필드는 Converter로 한 번 더 자름

---

원하면
📌 숫자만 허용 + 자리수 제한
📌 소수점 포함 자리수 제한
📌 한글 2byte 계산 제한

같이 만들어줄까?
