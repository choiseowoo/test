í˜„ì¬ **"ì• ë²„íŠ¼(-1)", "ë’¤ ë²„íŠ¼(+1)"** í´ë¦­ ì‹œ ë¦¬ìŠ¤íŠ¸ ë²”ìœ„ë¥¼ ì´ˆê³¼í•˜ë©´ `offset`ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê³ , **"ë§¨ë’¤ ë²„íŠ¼(0)"** í´ë¦­ ì‹œë„ ë™ì¼í•œ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ìƒí™©ì…ë‹ˆë‹¤.  

---

## **ğŸ”¹ ë¬¸ì œ ë¶„ì„**
- **ì• ë²„íŠ¼(-1)**: ì²« ë²ˆì§¸ í˜ì´ì§€ì—ì„œ ë” ê°ì†Œí•˜ë©´ `offset`ì´ ìŒìˆ˜ê°€ ë˜ì–´ ì˜¤ë¥˜ ë°œìƒ  
- **ë’¤ ë²„íŠ¼(+1)**: ë§ˆì§€ë§‰ í˜ì´ì§€ë¥¼ ì´ˆê³¼í•˜ë©´ ë¦¬ìŠ¤íŠ¸ ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ ì˜¤ë¥˜ ë°œìƒ  
- **ë§¨ë’¤ ë²„íŠ¼(0)**: ë¬´ì¡°ê±´ `0`ì´ ì§€ì •ë˜ë¯€ë¡œ `offset` ê³„ì‚°ì´ ì˜ëª»ë˜ì–´ ì˜¤ë¥˜ ë°œìƒ  

---

## **âœ… í•´ê²° ë°©ë²•**
1. **í˜ì´ì§€ ë²ˆí˜¸ê°€ ë²”ìœ„ë¥¼ ì´ˆê³¼í•˜ì§€ ì•Šë„ë¡ ì˜ˆì™¸ ì²˜ë¦¬**  
   â†’ **ìµœì†Œê°’(`1`)ê³¼ ìµœëŒ€ê°’(`totalPages`)ì„ ë²—ì–´ë‚˜ì§€ ì•Šë„ë¡ ì œí•œ**  
2. **ë§¨ë’¤ ë²„íŠ¼ í´ë¦­ ì‹œ `totalPages` ê°’ì„ ì„¤ì •**  
   â†’ **ë§¨ë’¤ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ `totalPages`ë¡œ ì´ë™í•˜ë„ë¡ ë³€ê²½**  

---

## **ğŸ“Œ 1. `setPageControl()`ì—ì„œ ë²”ìœ„ ì´ˆê³¼ ë°©ì§€**
ì•„ë˜ì²˜ëŸ¼ `currentPage` ê°’ì´ **1ë³´ë‹¤ ì‘ê±°ë‚˜, totalPagesë³´ë‹¤ í¬ì§€ ì•Šë„ë¡ ì œí•œ**í•˜ë©´ ë©ë‹ˆë‹¤.  

```java
public PageControlDto setPageControl(String pattern, int dispMaxLimit, int searchMaxLimit, PageControlDto dto, int totalPages) {
    if (dto == null) {
        dto = new PageControlDto(); // DTOê°€ nullì´ë©´ ìƒˆ ê°ì²´ ìƒì„±
    }

    int currentPage = dto.getsearchPag(); // í˜„ì¬ í˜ì´ì§€ ê°’ ê°€ì ¸ì˜¤ê¸°

    if ("1".equals(pattern)) { // ë§¨ì• ë²„íŠ¼ (1 í˜ì´ì§€ë¡œ ì´ë™)
        currentPage = 1;
    } else if ("-1".equals(pattern)) { // ì• ë²„íŠ¼ (í˜„ì¬ í˜ì´ì§€ - 1)
        currentPage = Math.max(1, currentPage - 1);
    } else if ("+1".equals(pattern)) { // ë’¤ ë²„íŠ¼ (í˜„ì¬ í˜ì´ì§€ + 1)
        currentPage = Math.min(totalPages, currentPage + 1);
    } else if ("0".equals(pattern)) { // ë§¨ë’¤ ë²„íŠ¼ (ë§ˆì§€ë§‰ í˜ì´ì§€ë¡œ ì´ë™)
        currentPage = totalPages;
    }

    dto.setsearchPag(currentPage); // ë³€ê²½ëœ í˜ì´ì§€ ê°’ ì €ì¥
    dto.setonepage(dispMaxLimit);
    dto.setmaxpage(searchMaxLimit);

    return dto;
}
```
âœ… **`Math.max(1, currentPage - 1)` â†’ ìµœì†Œ 1ì„ ìœ ì§€í•˜ì—¬ ìŒìˆ˜ ë°©ì§€**  
âœ… **`Math.min(totalPages, currentPage + 1)` â†’ ë§ˆì§€ë§‰ í˜ì´ì§€ ì´ˆê³¼ ë°©ì§€**  
âœ… **ë§¨ë’¤ ë²„íŠ¼ `"0"` í´ë¦­ ì‹œ `totalPages`ë¡œ ì„¤ì •**í•˜ì—¬ ì˜¤ë¥˜ í•´ê²°  

---

## **ğŸ“Œ 2. `setPageControl()` í˜¸ì¶œ ë° DTO ê°’ ì„¤ì •**
ì•„ë˜ ì½”ë“œì—ì„œ `totalPages` ê°’ì„ ë„˜ê²¨ì¤˜ì•¼ í•©ë‹ˆë‹¤.

```java
// ì´ í˜ì´ì§€ ìˆ˜ ê³„ì‚°
int totalPages = (int) Math.ceil((double) totalRecords / pageSize);

// DTO ê°’ ì„¤ì • (totalPagesë¥¼ ì¶”ê°€ë¡œ ë„˜ê¹€)
requestMsg.pageControlDto = setPageControl(pattern, dispMaxLimit, searchMaxLimit, requestMsg.pageControlDto, totalPages);

// ê²€ìƒ‰ ì²˜ë¦¬ í›„ totalRecords ê°’ ì„¤ì •
requestMsg.pageControlDto.settotalcnt(totalRecords);

// offset ê³„ì‚° ì‹œ ì˜¤ë¥˜ ë°©ì§€
int offset = (requestMsg.pageControlDto.getsearchPag() - 1) * pageSize;
offset = Math.max(0, offset); // ìŒìˆ˜ ë°©ì§€
```
âœ… **offset ê³„ì‚° ì‹œ `Math.max(0, offset);` ì ìš©í•˜ì—¬ ìŒìˆ˜ ë°©ì§€**  
âœ… **totalPagesë¥¼ `setPageControl()`ì— ì „ë‹¬í•˜ì—¬ ì •í™•í•œ í˜ì´ì§€ ìˆ˜ ìœ ì§€**  

---

## **ğŸ“Œ 3. ë²„íŠ¼ í´ë¦­ ì‹œ JSFì—ì„œ `pattern` ê°’ ì „ë‹¬**
```xhtml
<h:commandButton value="<< ë§¨ì•" action="#{userBean.changePage('1')}" />
<h:commandButton value="< ì•" action="#{userBean.changePage('-1')}" />
<h:commandButton value="ë’¤ >" action="#{userBean.changePage('+1')}" />
<h:commandButton value="ë§¨ë’¤ >>" action="#{userBean.changePage('0')}" />
```
```java
public void changePage(String pattern) {
    // í˜ì´ì§• ì—…ë°ì´íŠ¸
    requestMsg.pageControlDto = setPageControl(pattern, dispMaxLimit, searchMaxLimit, requestMsg.pageControlDto, totalPages);
}
```
âœ… **ë²„íŠ¼ í´ë¦­ ì‹œ `pattern` ê°’ì„ `setPageControl()`ì— ì „ë‹¬**í•˜ì—¬ í˜ì´ì§€ ë³€ê²½  

---

## **ğŸ”¹ ìµœì¢… ì •ë¦¬**
| ë²„íŠ¼ | ê¸°ì¡´ ë™ì‘ (ë¬¸ì œ) | ìˆ˜ì • í›„ ë™ì‘ (ì •ìƒ) |
|------|------------------|------------------|
| ë§¨ì• (`1`) | ë¬´ì¡°ê±´ 1ë¡œ ì´ë™ | ê·¸ëŒ€ë¡œ ìœ ì§€ |
| ì• (`-1`) | 1í˜ì´ì§€ì—ì„œ ëˆ„ë¥´ë©´ `0`ì´ ë˜ì–´ ì˜¤ë¥˜ | **1 ì´í•˜ë¡œ ëª» ë‚´ë ¤ê°€ê²Œ ìˆ˜ì •** |
| ë’¤ (`+1`) | ë§ˆì§€ë§‰ í˜ì´ì§€ì—ì„œ ëˆ„ë¥´ë©´ `totalPages+1`ì´ ë˜ì–´ ì˜¤ë¥˜ | **totalPages ì´ìƒ ëª» ì˜¬ë¼ê°€ê²Œ ìˆ˜ì •** |
| ë§¨ë’¤ (`0`) | `0`ìœ¼ë¡œ ì´ë™í•˜ì—¬ `offset` ì˜¤ë¥˜ | **totalPagesë¡œ ì´ë™í•˜ë„ë¡ ìˆ˜ì •** |

---

## **âœ… ê²°ë¡ **
âœ” **ë²„íŠ¼ í´ë¦­ ì‹œ ë²”ìœ„ë¥¼ ì´ˆê³¼í•˜ì§€ ì•Šë„ë¡ `Math.max()`, `Math.min()` ì ìš©**  
âœ” **ë§¨ë’¤ ë²„íŠ¼ `"0"`ì„ `totalPages`ë¡œ ì„¤ì •í•˜ì—¬ ë§ˆì§€ë§‰ í˜ì´ì§€ë¡œ ì´ë™**  
âœ” **offset ê³„ì‚° ì‹œ `Math.max(0, offset);`ë¡œ ìŒìˆ˜ ë°©ì§€**  

ì´ì œ **offset ì—ëŸ¬ ì—†ì´ í˜ì´ì§• ê¸°ëŠ¥ì´ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•  ê±°ì˜ˆìš”!**
