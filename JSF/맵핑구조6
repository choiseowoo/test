âœ… **UserBean, GroupBeanì—ì„œ `mybatis-config.xml`ì„ ì§ì ‘ ì—°ê²°í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼**  
**DAOì—ì„œ MyBatisì˜ Mapperë¥¼ í˜¸ì¶œí•˜ëŠ” ë°©ì‹ì´ ì¼ë°˜ì ì´ì•¼.**  

ì¦‰, **JSFì˜ Managed Bean (UserBean, GroupBean)ì—ì„œëŠ” ì§ì ‘ `mybatis-config.xml`ì„ ë¡œë“œí•˜ì§€ ì•Šê³ **,  
DAOì—ì„œ MyBatisë¥¼ ì‚¬ìš©í•˜ì—¬ DBì— ì ‘ê·¼í•˜ëŠ” êµ¬ì¡°ê°€ ì¼ë°˜ì ì´ì•¼.  

---

## **ğŸš€ êµ¬ì¡° ì •ë¦¬ (Best Practice)**  
### **1ï¸âƒ£ MyBatis ì„¤ì • (`mybatis-config.xml`)**
MyBatisì˜ ì„¤ì •ì„ ì •ì˜í•˜ê³ , Mapper íŒŒì¼ì„ ì—°ê²°í•´ ì¤Œ.  

ğŸ“Œ **ì˜ˆì œ (`mybatis-config.xml`)**
```xml
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE configuration PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-config.dtd">
<configuration>
    <environments default="development">
        <environment id="development">
            <transactionManager type="JDBC" />
            <dataSource type="POOLED">
                <property name="driver" value="org.postgresql.Driver"/>
                <property name="url" value="jdbc:postgresql://localhost:5432/mydb"/>
                <property name="username" value="user"/>
                <property name="password" value="password"/>
            </dataSource>
        </environment>
    </environments>
    <mappers>
        <mapper resource="mapper/UserMapper.xml"/>
        <mapper resource="mapper/GroupMapper.xml"/>
    </mappers>
</configuration>
```

---

### **2ï¸âƒ£ UserMapper.xml (SQL ì¿¼ë¦¬ ì •ì˜)**
`UserMapper.xml`ì—ì„œ ì¿¼ë¦¬ë¥¼ ì •ì˜í•˜ê³ , DAOì—ì„œ í˜¸ì¶œí•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•¨.  

ğŸ“Œ **ì˜ˆì œ (`UserMapper.xml`)**
```xml
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.mapper.UserMapper">
    <select id="getUserById" parameterType="String" resultType="com.example.dto.User">
        SELECT * FROM users WHERE id = #{id}
    </select>
</mapper>
```

---

### **3ï¸âƒ£ MyBatisUtil.java (MyBatis ì—°ê²° ì„¤ì •)**
MyBatisì˜ `SqlSessionFactory`ë¥¼ ìƒì„±í•˜ëŠ” ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤.  
(UserBean, GroupBeanì—ì„œ ì§ì ‘ `mybatis-config.xml`ì„ ë¡œë“œí•˜ì§€ ì•Šë„ë¡ DAOì—ì„œ ì‚¬ìš©ë¨)  

ğŸ“Œ **ì˜ˆì œ (`MyBatisUtil.java`)**
```java
package com.example.util;

import java.io.Reader;
import org.apache.ibatis.io.Resources;
import org.apache.ibatis.session.SqlSession;
import org.apache.ibatis.session.SqlSessionFactory;
import org.apache.ibatis.session.SqlSessionFactoryBuilder;

public class MyBatisUtil {
    private static SqlSessionFactory sqlSessionFactory;

    static {
        try {
            Reader reader = Resources.getResourceAsReader("mybatis-config.xml");
            sqlSessionFactory = new SqlSessionFactoryBuilder().build(reader);
        } catch (Exception e) {
            e.printStackTrace();
            throw new RuntimeException("MyBatis ì„¤ì • ë¡œë“œ ì‹¤íŒ¨");
        }
    }

    public static SqlSession getSession() {
        return sqlSessionFactory.openSession();
    }
}
```

---

### **4ï¸âƒ£ DAO (UserDAO.java)**
DAOì—ì„œ `UserMapper.xml`ì˜ ì¿¼ë¦¬ë¥¼ í˜¸ì¶œí•˜ì—¬ DBì—ì„œ ë°ì´í„°ë¥¼ ì¡°íšŒí•¨.  

ğŸ“Œ **ì˜ˆì œ (`UserDAO.java`)**
```java
package com.example.dao;

import org.apache.ibatis.session.SqlSession;
import com.example.dto.User;
import com.example.mapper.UserMapper;
import com.example.util.MyBatisUtil;

public class UserDAO {
    public User getUserById(String id) {
        try (SqlSession session = MyBatisUtil.getSession()) {
            UserMapper mapper = session.getMapper(UserMapper.class);
            return mapper.getUserById(id);
        }
    }
}
```

---

### **5ï¸âƒ£ JSF Managed Bean (UserBean.java)**
UserBeanì—ì„œëŠ” DAOë¥¼ í˜¸ì¶œí•˜ì—¬ DBì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê³ , JSF í˜ì´ì§€ì—ì„œ í‘œì‹œí•¨.  

ğŸ“Œ **ì˜ˆì œ (`UserBean.java`)**
```java
package com.example.bean;

import javax.faces.bean.ManagedBean;
import javax.faces.bean.ViewScoped;
import com.example.dao.UserDAO;
import com.example.dto.User;

@ManagedBean
@ViewScoped
public class UserBean {
    private String userId;
    private User user;
    private UserDAO userDAO = new UserDAO();

    public void searchUser() {
        user = userDAO.getUserById(userId);
    }

    // Getter, Setter
    public String getUserId() { return userId; }
    public void setUserId(String userId) { this.userId = userId; }
    public User getUser() { return user; }
}
```

---

### **6ï¸âƒ£ JSF í˜ì´ì§€ (`user.xhtml`)**
ê²€ìƒ‰ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ `UserBean.searchUser()`ë¥¼ ì‹¤í–‰í•˜ì—¬ DBì—ì„œ ì¡°íšŒëœ ë°ì´í„°ë¥¼ í‘œì‹œí•¨.  

ğŸ“Œ **ì˜ˆì œ (`user.xhtml`)**
```xml
<h:form>
    <h:panelGrid columns="2">
        <h:outputLabel for="userId" value="User ID: " />
        <h:inputText id="userId" value="#{userBean.userId}" />

        <h:commandButton value="ê²€ìƒ‰" action="#{userBean.searchUser}" />
    </h:panelGrid>
</h:form>

<h:panelGrid columns="2" rendered="#{not empty userBean.user}">
    <h:outputText value="ID: " />
    <h:outputText value="#{userBean.user.id}" />

    <h:outputText value="ì´ë¦„: " />
    <h:outputText value="#{userBean.user.name}" />

    <h:outputText value="ì´ë©”ì¼: " />
    <h:outputText value="#{userBean.user.email}" />
</h:panelGrid>
```

---

## **ğŸ“Œ ê²°ë¡ : `mybatis-config.xml`ì€ DAOì—ì„œ ì‚¬ìš©í•˜ê³ , JSF Managed Beanì—ì„œëŠ” DAOë¥¼ í˜¸ì¶œí•˜ëŠ” êµ¬ì¡°**
1ï¸âƒ£ **JSF Managed Bean (`UserBean`)** â†’ `DAO` í˜¸ì¶œ  
2ï¸âƒ£ **DAO (`UserDAO`)** â†’ MyBatis `SqlSession`ì„ ì´ìš©í•´ `UserMapper.xml`ì˜ SQL ì‹¤í–‰  
3ï¸âƒ£ **MyBatis (`UserMapper.xml`)** â†’ SQL ì‹¤í–‰ í›„ DTO (`User`) ë°˜í™˜  
4ï¸âƒ£ **JSF (`user.xhtml`)** â†’ `UserBean.user` ë°ì´í„°ë¥¼ UIì—ì„œ ì¶œë ¥  

ğŸ‘‰ **Managed Bean (`UserBean`)ì—ì„œ `mybatis-config.xml`ì„ ì§ì ‘ ë¡œë“œí•˜ì§€ ì•Šê³ , DAOë¥¼ í†µí•´ ì ‘ê·¼í•˜ëŠ” ë°©ì‹ì´ ì¼ë°˜ì ì´ì•¼!**  
ğŸ‘‰ **ì´ ë°©ì‹ì´ ìœ ì§€ë³´ìˆ˜í•˜ê¸° ì‰½ê³ , ì½”ë“œì˜ ë¶„ë¦¬ê°€ ì˜ ë˜ì–´ ìˆì–´ì„œ íš¨ìœ¨ì ì¸ ì•„í‚¤í…ì²˜ì•¼.**  

í˜¹ì‹œ ë” ê¶ê¸ˆí•œ ì  ìˆìœ¼ë©´ ë§í•´ì¤˜!
