í˜ì´ì§• ë°©ì‹ì—ëŠ” ì—¬ëŸ¬ ê°€ì§€ ì ‘ê·¼ë²•ì´ ìˆì–´. ì§€ê¸ˆì²˜ëŸ¼ **offset/limitì„ ì‚¬ìš©í•œ SQL í˜ì´ì§•** ì™¸ì—ë„ ë‹¤ë¥¸ ë°©ë²•ì´ ìˆì–´:  

1. **Offset/Limit ë°©ì‹ (í˜„ì¬ ë°©ì‹)**  
   - ì¥ì : SQLì—ì„œ ê°„ë‹¨íˆ ì²˜ë¦¬ ê°€ëŠ¥  
   - ë‹¨ì : ë°ì´í„°ê°€ ë§ì„ ê²½ìš° ì„±ëŠ¥ ì €í•˜ (íŠ¹íˆ í›„ë°˜ í˜ì´ì§€)  

2. **Keyset Pagination (ì¹´ì„œ í˜ì´ì§•, íš¨ìœ¨ì )**  
   - ì¥ì : ëŒ€ìš©ëŸ‰ ë°ì´í„°ì—ì„œë„ ë¹ ë¦„  
   - ë‹¨ì : `ORDER BY`ê°€ í•„ìˆ˜, íŠ¹ì • ì»¬ëŸ¼ì„ ê¸°ë°˜ìœ¼ë¡œ í˜ì´ì§•  

3. **ë°°ì¹˜ ì¡°íšŒ ë°©ì‹ (In-memory ì²˜ë¦¬)**  
   - ì¥ì : ë©”ëª¨ë¦¬ì—ì„œ ë¦¬ìŠ¤íŠ¸ë¥¼ ì¡°ì‘ ê°€ëŠ¥  
   - ë‹¨ì : ì²˜ìŒì— ëª¨ë“  ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ì•¼ í•¨  

ë„¤ê°€ ì„ íƒí•  ìˆ˜ ìˆëŠ” ë‹¤ë¥¸ ë°©ë²•ë“¤ì„ ìì„¸íˆ ì„¤ëª…í•´ ì¤„ê²Œ.  

---

## **ğŸ”¹ ë°©ë²• 1: Keyset Pagination (ì¹´ì„œ í˜ì´ì§•)**
- **ğŸš€ ì†ë„ê°€ ë¹ ë¦„** â†’ OFFSET ì—†ì´ `WHERE id > lastId` ì¡°ê±´ìœ¼ë¡œ ë°ì´í„° ê²€ìƒ‰  
- **ğŸ¯ `ORDER BY id ASC` í•„ìˆ˜**  

**ğŸ”¹ SQL ë³€ê²½ (`searchUsers` ë©”ì„œë“œ)**
```xml
<select id="searchUsers" resultType="com.example.model.User">
    SELECT * FROM users
    WHERE 1=1
    <if test="lastId != null">
        AND id > #{lastId}
    </if>
    ORDER BY id ASC
    LIMIT #{pageSize}
</select>
```

**ğŸ”¹ Java ë³€ê²½ (UserBean)**
```java
private Integer lastId = null; // ë§ˆì§€ë§‰ìœ¼ë¡œ ê°€ì ¸ì˜¨ ID

public void searchUsers() {
    lastId = null; // ê²€ìƒ‰ ì‹œ ì´ˆê¸°í™”
    userList = userMapper.searchUsers(organization, userName, userCode, userEmail, lastId, pageSize);
    if (!userList.isEmpty()) {
        lastId = userList.get(userList.size() - 1).getId(); // ë§ˆì§€ë§‰ ID ì €ì¥
    }
}

public void nextPage() {
    if (lastId != null) {
        userList = userMapper.searchUsers(organization, userName, userCode, userEmail, lastId, pageSize);
        if (!userList.isEmpty()) {
            lastId = userList.get(userList.size() - 1).getId();
        }
    }
}
```

âœ… **ì¥ì :** `OFFSET` ì—†ì´ ë¹ ë¦„, í˜ì´ì§€ê°€ ë’¤ë¡œ ê°ˆìˆ˜ë¡ ì†ë„ ì €í•˜ ì—†ìŒ  
â›” **ë‹¨ì :** IDê°€ ì—°ì†ì ì´ì–´ì•¼ í•¨  

---

## **ğŸ”¹ ë°©ë²• 2: ë°°ì¹˜ ì¡°íšŒ ë°©ì‹ (In-memory)**
- **ì „ì²´ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ í˜ì´ì§• ì²˜ë¦¬**
- ê²€ìƒ‰ ê²°ê³¼ê°€ ë§ì§€ ì•Šë‹¤ë©´ **ì´ ë°©ë²•ì´ í¸ë¦¬**  

**ğŸ”¹ Java ë³€ê²½**
```java
private List<User> allUsers; // ì „ì²´ ë°ì´í„° ì €ì¥
private int totalRecords;

public void searchUsers() {
    allUsers = userMapper.searchAllUsers(organization, userName, userCode, userEmail);
    totalRecords = allUsers.size();
    updatePage();
}

public void updatePage() {
    int fromIndex = (currentPage - 1) * pageSize;
    int toIndex = Math.min(fromIndex + pageSize, totalRecords);
    userList = allUsers.subList(fromIndex, toIndex);
}
```

âœ… **ì¥ì :** ë¹ ë¥´ê³  DB ë¶€í•˜ ì ìŒ (ë°ì´í„°ê°€ ë§ì§€ ì•Šìœ¼ë©´ ì¶”ì²œ)  
â›” **ë‹¨ì :** ë°ì´í„°ê°€ ë§ìœ¼ë©´ ë©”ëª¨ë¦¬ ë¶€ë‹´  

---

## **ğŸ”¹ ë°©ë²• 3: ë™ì  SQL + ë¬´í•œ ìŠ¤í¬ë¡¤ (Ajax)**
- **JSFì—ì„œ Ajaxë¥¼ í™œìš©í•˜ì—¬ í˜ì´ì§€ ë¡œë“œ ë°©ì‹ ë³€ê²½**
- í˜ì´ì§€ ë²„íŠ¼ ì—†ì´ **ìŠ¤í¬ë¡¤í•  ë•Œë§ˆë‹¤ ì¶”ê°€ ë¡œë“œ**  

```xml
<h:commandButton value="ë” ë³´ê¸°" action="#{userBean.loadMore}" update="userTable" rendered="#{not userBean.isLastPage}" />
```

```java
public void loadMore() {
    int offset = currentPage * pageSize;
    List<User> newUsers = userMapper.searchUsers(organization, userName, userCode, userEmail, offset, pageSize);
    userList.addAll(newUsers);
    currentPage++;
}
```

âœ… **ì¥ì :** ìœ ì € ê²½í—˜ ì¢‹ìŒ (ë” ë³´ê¸° ë°©ì‹)  
â›” **ë‹¨ì :** êµ¬í˜„ ë³µì¡  

---

## **ğŸ”¥ ì–´ë–¤ ë°©ì‹ì´ ê°€ì¥ ì¢‹ì„ê¹Œ?**
1. **ë°ì´í„°ê°€ ë§ë‹¤ë©´** â†’ **Keyset Pagination (ë°©ë²• 1)**
2. **ë°ì´í„°ê°€ ì ë‹¤ë©´** â†’ **ë°°ì¹˜ ì¡°íšŒ (ë°©ë²• 2)**
3. **UXê°€ ì¤‘ìš”í•˜ë©´** â†’ **ë¬´í•œ ìŠ¤í¬ë¡¤ (ë°©ë²• 3)**  

ì–´ë–¤ ë°©ì‹ì´ ë„¤ í”„ë¡œì íŠ¸ì— ì í•©í• ê¹Œ? ğŸš€
