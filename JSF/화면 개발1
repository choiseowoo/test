### **âœ… JSF + MyBatisë¡œ ID ê²€ìƒ‰ ë° ì„ íƒí•˜ëŠ” í˜ì´ì§€ ì˜ˆì œ**  
**ğŸ“Œ ê¸°ëŠ¥:**  
1. **ì²« ë²ˆì§¸ í˜ì´ì§€ (`userList.xhtml`)**  
   - ì‚¬ìš©ìì˜ IDê°€ **Label íƒœê·¸**ë¡œ í‘œì‹œë¨  
   - **ê²€ìƒ‰ ë²„íŠ¼**ì„ ëˆ„ë¥´ë©´ **ì•„ì´ë”” ê²€ìƒ‰ì°½ì´ ìˆëŠ” íŒì—…**ì´ ëœ¸  
   - **í´ë¦¬ì–´ ë²„íŠ¼**ì„ ëˆ„ë¥´ë©´ ì„ íƒí•œ ì•„ì´ë””ê°€ ì´ˆê¸°í™”ë¨  
2. **ë‘ ë²ˆì§¸ í˜ì´ì§€ (`userSearch.xhtml`)**  
   - DBì—ì„œ ì•„ì´ë””ë¥¼ ê²€ìƒ‰í•  ìˆ˜ ìˆìŒ  
   - ê²€ìƒ‰ëœ IDë¥¼ í´ë¦­í•˜ë©´ **ë¶€ëª¨ ì°½(`userList.xhtml`)ì˜ Label íƒœê·¸ì— ë°˜ì˜**  

---

## **1ï¸âƒ£ `userList.xhtml` (ì•„ì´ë”” í‘œì‹œ ë° ê²€ìƒ‰ ë²„íŠ¼)**
ğŸ“Œ `src/main/webapp/userList.xhtml`
```xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">

<h:head>
    <title>ì‚¬ìš©ì ì„ íƒ</title>
    <script type="text/javascript">
        function openSearchPopup() {
            window.open("userSearch.xhtml", "popupWindow", "width=600,height=400,scrollbars=yes");
        }
        function setUserId(userId) {
            document.getElementById("userForm:userIdLabel").innerText = userId;
            document.getElementById("userForm:hiddenUserId").value = userId;
        }
        function clearUserId() {
            document.getElementById("userForm:userIdLabel").innerText = "ì„ íƒ ì—†ìŒ";
            document.getElementById("userForm:hiddenUserId").value = "";
        }
    </script>
</h:head>

<h:body>
    <h:form id="userForm">
        <h3>ì‚¬ìš©ì ID ì„ íƒ</h3>

        <!-- ì„ íƒí•œ ì•„ì´ë”” í‘œì‹œ -->
        <h:outputLabel id="userIdLabel" value="ì„ íƒ ì—†ìŒ" style="font-weight: bold;" />

        <!-- ì„ íƒëœ ì•„ì´ë””ë¥¼ ì €ì¥í•˜ëŠ” hidden input -->
        <h:inputHidden id="hiddenUserId" value="#{userBean.selectedUserId}" />

        <br/><br/>

        <!-- ê²€ìƒ‰ ë²„íŠ¼ -->
        <h:commandButton value="ì•„ì´ë”” ê²€ìƒ‰" onclick="openSearchPopup(); return false;" />

        <!-- í´ë¦¬ì–´ ë²„íŠ¼ -->
        <h:commandButton value="í´ë¦¬ì–´" onclick="clearUserId(); return false;" />
    </h:form>
</h:body>
</html>
```
> **ğŸ’¡ `openSearchPopup()`**: `userSearch.xhtml` íŒì—… ì°½ì„ ì—¬ëŠ” í•¨ìˆ˜  
> **ğŸ’¡ `setUserId(userId)`**: íŒì—…ì—ì„œ ì„ íƒí•œ IDë¥¼ ë¶€ëª¨ì°½ì— ë°˜ì˜  
> **ğŸ’¡ `clearUserId()`**: ì„ íƒëœ ì•„ì´ë””ë¥¼ ì´ˆê¸°í™”  

---

## **2ï¸âƒ£ `userSearch.xhtml` (ì•„ì´ë”” ê²€ìƒ‰ ì°½)**
ğŸ“Œ `src/main/webapp/userSearch.xhtml`
```xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">

<h:head>
    <title>ì•„ì´ë”” ê²€ìƒ‰</title>
    <script type="text/javascript">
        function selectUserId(userId) {
            window.opener.setUserId(userId);
            window.close();
        }
    </script>
</h:head>

<h:body>
    <h:form>
        <h3>ì•„ì´ë”” ê²€ìƒ‰</h3>

        <!-- ê²€ìƒ‰ì–´ ì…ë ¥ -->
        <h:inputText value="#{userBean.searchKeyword}" />
        <h:commandButton value="ê²€ìƒ‰" action="#{userBean.searchUsers}" />

        <br/><br/>

        <!-- ê²€ìƒ‰ ê²°ê³¼ ëª©ë¡ -->
        <h:dataTable value="#{userBean.filteredUsers}" var="user" border="1">
            <h:column>
                <f:facet name="header">ID</f:facet>
                <h:outputText value="#{user.id}" />
            </h:column>
            <h:column>
                <f:facet name="header">ì´ë¦„</f:facet>
                <h:outputText value="#{user.username}" />
            </h:column>
            <h:column>
                <h:commandButton value="ì„ íƒ" onclick="selectUserId('#{user.id}'); return false;" />
            </h:column>
        </h:dataTable>
    </h:form>
</h:body>
</html>
```
> **ğŸ’¡ `searchUsers()`**: ì…ë ¥í•œ ê²€ìƒ‰ì–´ì— ë§ëŠ” IDë¥¼ í•„í„°ë§  
> **ğŸ’¡ `selectUserId(userId)`**: ì„ íƒí•œ IDë¥¼ ë¶€ëª¨ ì°½ì— ì „ë‹¬ í›„ íŒì—… ë‹«ê¸°  

---

## **3ï¸âƒ£ `UserBean.java` (JSFì˜ Managed Bean)**
ğŸ“Œ `src/main/java/com/example/bean/UserBean.java`
```java
package com.example.bean;

import com.example.dao.UserDAO;
import com.example.model.User;
import jakarta.enterprise.context.SessionScoped;
import jakarta.inject.Named;
import java.io.Serializable;
import java.util.List;
import java.util.stream.Collectors;

@Named
@SessionScoped
public class UserBean implements Serializable {
    private String selectedUserId;
    private String searchKeyword;
    private List<User> users;
    private List<User> filteredUsers;
    private final UserDAO userDAO = new UserDAO();

    public UserBean() {
        this.users = userDAO.getAllUsers(); // DBì—ì„œ ì „ì²´ ì‚¬ìš©ì ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
    }

    // ì‚¬ìš©ì ê²€ìƒ‰ ë©”ì„œë“œ
    public void searchUsers() {
        if (searchKeyword == null || searchKeyword.isEmpty()) {
            filteredUsers = users;
        } else {
            filteredUsers = users.stream()
                .filter(user -> user.getUsername().toLowerCase().contains(searchKeyword.toLowerCase()))
                .collect(Collectors.toList());
        }
    }

    public String getSelectedUserId() { return selectedUserId; }
    public void setSelectedUserId(String selectedUserId) { this.selectedUserId = selectedUserId; }

    public String getSearchKeyword() { return searchKeyword; }
    public void setSearchKeyword(String searchKeyword) { this.searchKeyword = searchKeyword; }

    public List<User> getFilteredUsers() { return filteredUsers; }
}
```
> **ğŸ’¡ `selectedUserId`**: ì„ íƒí•œ ì•„ì´ë””ë¥¼ ì €ì¥  
> **ğŸ’¡ `searchKeyword`**: ê²€ìƒ‰ì–´ ì…ë ¥ê°’ ì €ì¥  
> **ğŸ’¡ `searchUsers()`**: ê²€ìƒ‰ì–´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ `filteredUsers`ë¥¼ í•„í„°ë§  

---

## **4ï¸âƒ£ `UserDAO.java` (DAO ê³„ì¸µ)**
ğŸ“Œ `src/main/java/com/example/dao/UserDAO.java`
```java
package com.example.dao;

import com.example.mapper.UserMapper;
import com.example.model.User;
import com.example.util.MyBatisUtil;
import org.apache.ibatis.session.SqlSession;
import java.util.List;

public class UserDAO {
    public List<User> getAllUsers() {
        try (SqlSession session = MyBatisUtil.getSession()) {
            UserMapper mapper = session.getMapper(UserMapper.class);
            return mapper.getAllUsers();
        }
    }
}
```
> **ğŸ’¡ ì „ì²´ ì‚¬ìš©ì ëª©ë¡ì„ DBì—ì„œ ê°€ì ¸ì˜¤ëŠ” ì—­í• **  

---

## **ğŸ“Œ ì‹¤í–‰ ë°©ë²•**
1. **Maven ë¹Œë“œ í›„ WildFlyì— ë°°í¬**
```sh
mvn clean package
```
2. **ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤í–‰**
```
http://localhost:8080/myapp/userList.xhtml
```
3. **ê²€ìƒ‰ ë²„íŠ¼ í´ë¦­ â†’ íŒì—…ì°½ì—ì„œ ID ê²€ìƒ‰ â†’ ID ì„ íƒ í›„ ë°˜ì˜ë¨**  

---

## **ğŸ“Œ ê²°ë¡ **
âœ… **JSF + MyBatisë¥¼ ì‚¬ìš©í•œ ID ê²€ìƒ‰ ë° ì„ íƒ ê¸°ëŠ¥ êµ¬í˜„**  
âœ… **Popupì„ ì´ìš©í•œ ê²€ìƒ‰ ë° ì„ íƒ í›„ ë¶€ëª¨ ì°½ì— ë°˜ì˜**  
âœ… **DAO ê³„ì¸µì„ ì¶”ê°€í•˜ì—¬ ë°ì´í„° ê´€ë¦¬ ìµœì í™”**  

ì´ì œ **JSF ê¸°ë°˜ì˜ ID ê²€ìƒ‰ ë° ì„ íƒ ê¸°ëŠ¥ì´ ì™„ì„±ë˜ì—ˆì–´ìš”!** ğŸš€  
**ë¬¸ì œ ìˆìœ¼ë©´ ì•Œë ¤ì¤˜~!**
