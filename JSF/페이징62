ì—…ë°ì´íŠ¸ëœ ì „ì²´ ì½”ë“œë¥¼ ë‹¤ì‹œ ì •ë¦¬í•´ì„œ ì œê³µí• ê²Œìš”.  
ì´ ì½”ë“œì—ì„œëŠ” **ìƒˆë¡œìš´ ê²€ìƒ‰ ì‹¤í–‰ ì‹œ `currentPage = 1`ë¡œ ì´ˆê¸°í™”**í•˜ì—¬ **ì´ì „ ê²€ìƒ‰ì˜ í˜ì´ì§€ ì •ë³´ê°€ ë‚¨ì•„ ìˆì§€ ì•Šë„ë¡** í–ˆìŠµë‹ˆë‹¤.  

---

## **ğŸ”¥ ì „ì²´ ì½”ë“œ (JSF + MyBatis ê²€ìƒ‰ + í˜ì´ì§•)**
- **ğŸ”¹ ì´ˆê¸° í™”ë©´**: ê²€ìƒ‰ ì¡°ê±´ë§Œ í‘œì‹œ, ë°ì´í„° í…Œì´ë¸”ì€ ì•ˆ ë³´ì„  
- **ğŸ”¹ ê²€ìƒ‰ í›„**: ê²°ê³¼ê°€ ìˆìœ¼ë©´ í…Œì´ë¸” í‘œì‹œ  
- **ğŸ”¹ ê²€ìƒ‰ ì‹œ `currentPage = 1`ë¡œ ì´ˆê¸°í™”**  
- **ğŸ”¹ í˜ì´ì§• ì˜¤ë¥˜ í•´ê²°**: ê²€ìƒ‰ í›„ ë°ì´í„°ê°€ ì ì–´ë„ ì •ìƒ ì¶œë ¥  

---

## **ğŸ“Œ 1. MyBatis XML Mapper (ê²€ìƒ‰ + í˜ì´ì§•)**
```xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.mapper.UserMapper">

    <!-- ê²€ìƒ‰ + í˜ì´ì§• -->
    <select id="searchUsers" resultType="com.example.model.User">
        SELECT * FROM users
        WHERE 1=1
        <if test="organization != null and organization != ''">
            AND organization = #{organization}
        </if>
        <if test="userName != null and userName != ''">
            AND LOWER(name) LIKE CONCAT('%', LOWER(#{userName}), '%')
        </if>
        <if test="userCode != null and userCode != ''">
            AND code = #{userCode}
        </if>
        <if test="userEmail != null and userEmail != ''">
            AND LOWER(email) LIKE CONCAT('%', LOWER(#{userEmail}), '%')
        </if>
        ORDER BY id
        LIMIT #{offset}, #{pageSize}
    </select>

    <!-- ê²€ìƒ‰ ê²°ê³¼ ê°œìˆ˜ -->
    <select id="countUsers" resultType="int">
        SELECT COUNT(*) FROM users
        WHERE 1=1
        <if test="organization != null and organization != ''">
            AND organization = #{organization}
        </if>
        <if test="userName != null and userName != ''">
            AND LOWER(name) LIKE CONCAT('%', LOWER(#{userName}), '%')
        </if>
        <if test="userCode != null and userCode != ''">
            AND code = #{userCode}
        </if>
        <if test="userEmail != null and userEmail != ''">
            AND LOWER(email) LIKE CONCAT('%', LOWER(#{userEmail}), '%')
        </if>
    </select>

</mapper>
```

---

## **ğŸ“Œ 2. UserMapper ì¸í„°í˜ì´ìŠ¤**
```java
import com.example.model.User;
import org.apache.ibatis.annotations.Param;
import java.util.List;

public interface UserMapper {
    List<User> searchUsers(@Param("organization") String organization,
                           @Param("userName") String userName,
                           @Param("userCode") String userCode,
                           @Param("userEmail") String userEmail,
                           @Param("offset") int offset,
                           @Param("pageSize") int pageSize);

    int countUsers(@Param("organization") String organization,
                   @Param("userName") String userName,
                   @Param("userCode") String userCode,
                   @Param("userEmail") String userEmail);
}
```

---

## **ğŸ“Œ 3. Java ì½”ë“œ (JSF + MyBatis ì—°ë™)**
#### **UserBean.java**
```java
import com.example.mapper.UserMapper;
import com.example.model.User;
import javax.annotation.PostConstruct;
import javax.inject.Inject;
import javax.inject.Named;
import javax.enterprise.context.SessionScoped;
import java.io.Serializable;
import java.util.ArrayList;
import java.util.List;

@Named
@SessionScoped
public class UserBean implements Serializable {
    @Inject
    private UserMapper userMapper;

    private List<User> userList;
    private String organization = "";
    private String userName = "";
    private String userCode = "";
    private String userEmail = "";
    private int currentPage = 1;
    private int pageSize = 10;
    private int totalPages;
    private boolean searchExecuted = false; // ê²€ìƒ‰ ì‹¤í–‰ ì—¬ë¶€

    @PostConstruct
    public void init() {
        userList = new ArrayList<>(); // ì´ˆê¸°ì—ëŠ” ë¹ˆ ë¦¬ìŠ¤íŠ¸ ìœ ì§€
    }

    public void searchUsers() {
        // ğŸ”¹ ìƒˆë¡œìš´ ê²€ìƒ‰ ì‹¤í–‰ ì‹œ í•­ìƒ 1í˜ì´ì§€ë¶€í„° ì‹œì‘
        currentPage = 1; 

        int offset = (currentPage - 1) * pageSize;
        userList = userMapper.searchUsers(organization, userName, userCode, userEmail, offset, pageSize);

        // ğŸ”¹ ì „ì²´ ê°œìˆ˜ ê°±ì‹ 
        int totalRecords = userMapper.countUsers(organization, userName, userCode, userEmail);
        totalPages = (totalRecords + pageSize - 1) / pageSize;  // ë°˜ì˜¬ë¦¼ ì²˜ë¦¬

        // ğŸ”¹ ê²€ìƒ‰ ì‹¤í–‰ ì—¬ë¶€ ì—…ë°ì´íŠ¸
        searchExecuted = !userList.isEmpty();
    }

    public void goToFirstPage() { 
        currentPage = 1; 
        searchUsers(); 
    }

    public void previousPage() { 
        if (currentPage > 1) { 
            currentPage--; 
            searchUsers(); 
        } 
    }

    public void nextPage() { 
        if (currentPage < totalPages) { 
            currentPage++; 
            searchUsers(); 
        } 
    }

    public void goToLastPage() { 
        currentPage = totalPages; 
        searchUsers(); 
    }

    // Getter & Setter
    public List<User> getUserList() { return userList; }
    public int getCurrentPage() { return currentPage; }
    public int getTotalPages() { return totalPages; }
    public boolean isSearchExecuted() { return searchExecuted; }
}
```

---

## **ğŸ“Œ 4. JSF í˜ì´ì§€ (ê²€ìƒ‰ + í˜ì´ì§• UI)**
#### **userSearch.xhtml**
```xml
<h:form id="searchForm">
    <table>
        <tr>
            <td>ì¡°ì§:</td>
            <td>
                <h:selectOneMenu id="organization" value="#{userBean.organization}">
                    <f:selectItem itemLabel="ì „ì²´" itemValue="" />
                    <f:selectItems value="#{userBean.organizationList}" />
                </h:selectOneMenu>
            </td>
            <td>ì´ë¦„:</td>
            <td><h:inputText id="userName" value="#{userBean.userName}" /></td>
        </tr>
        <tr>
            <td>ì½”ë“œ:</td>
            <td><h:inputText id="userCode" value="#{userBean.userCode}" /></td>
            <td>ì´ë©”ì¼:</td>
            <td><h:inputText id="userEmail" value="#{userBean.userEmail}" /></td>
        </tr>
        <tr>
            <td colspan="4">
                <h:commandButton value="ê²€ìƒ‰" action="#{userBean.searchUsers}" update="searchForm" />
            </td>
        </tr>
    </table>

    <!-- ğŸ”¹ ê²€ìƒ‰ ì‹¤í–‰ í›„ì—ë§Œ í…Œì´ë¸” í‘œì‹œ -->
    <h:panelGroup rendered="#{userBean.searchExecuted}">
        <table border="1">
            <thead>
                <tr>
                    <th>ì´ë¦„</th>
                    <th>ì½”ë“œ</th>
                    <th>ì´ë©”ì¼</th>
                </tr>
            </thead>
            <tbody>
                <ui:repeat value="#{userBean.userList}" var="user">
                    <tr>
                        <td>#{user.name}</td>
                        <td>#{user.code}</td>
                        <td>#{user.email}</td>
                    </tr>
                </ui:repeat>
            </tbody>
        </table>

        <div>
            <h:commandButton value="<<" action="#{userBean.goToFirstPage}" update="searchForm" />
            <h:commandButton value="<" action="#{userBean.previousPage}" update="searchForm" />
            <h:outputText value="í˜ì´ì§€ #{userBean.currentPage} / #{userBean.totalPages}" />
            <h:commandButton value=">" action="#{userBean.nextPage}" update="searchForm" />
            <h:commandButton value=">>" action="#{userBean.goToLastPage}" update="searchForm" />
        </div>
    </h:panelGroup>
</h:form>
```

---

## **ğŸš€ ìµœì¢… ì •ë¦¬**
âœ… **ê²€ìƒ‰ ì‹œ `currentPage = 1`ë¡œ ì´ˆê¸°í™” â†’ ë°ì´í„°ê°€ ì¤„ì–´ë„ ì •ìƒ ì¶œë ¥**  
âœ… **í˜ì´ì§• ì´ë™ í›„ ê²€ìƒ‰í•˜ë©´ ì •ìƒì ìœ¼ë¡œ 1í˜ì´ì§€ë¶€í„° í‘œì‹œë¨**  
âœ… **ê²€ìƒ‰ ì „ì—ëŠ” í…Œì´ë¸” ì•ˆ ë³´ì„**  

ì´ì œ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•  ê±°ì•¼! ğŸš€
