### âœ… **`UserMapper.xml`ê³¼ `DAO` ë§¤í•‘ ê°œë…**  

JSF + MyBatis í™˜ê²½ì—ì„œ **`UserMapper.xml`** íŒŒì¼ì„ **DAOì—ì„œ ë§¤í•‘í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ê°œë…**ì„ ì •ë¦¬í•´ë³¼ê²Œ.

---

## **âœ… 1. `UserMapper.xml` ê°œë…**  
- **SQL ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ëŠ” íŒŒì¼**  
- MyBatisê°€ ì´ íŒŒì¼ì„ ì½ê³  DAOì—ì„œ í˜¸ì¶œí•  ìˆ˜ ìˆë„ë¡ í•¨  
- `<mapper namespace="íŒ¨í‚¤ì§€ëª….UserMapper">` ë¥¼ ì‚¬ìš©í•˜ì—¬ **ì¸í„°í˜ì´ìŠ¤(`UserMapper.java`)ì™€ ì—°ê²°**  

ğŸ“Œ **ì˜ˆì œ (`UserMapper.xml`)**
```xml
<mapper namespace="com.example.mapper.UserMapper">
    <!-- ì‚¬ìš©ì ëª©ë¡ ì¡°íšŒ -->
    <select id="getUserList" resultType="com.example.dto.User">
        SELECT id, name, email FROM users
    </select>

    <!-- íŠ¹ì • IDì˜ ì‚¬ìš©ì ì¡°íšŒ -->
    <select id="getUserById" parameterType="String" resultType="com.example.dto.User">
        SELECT id, name, email FROM users WHERE id = #{id}
    </select>
</mapper>
```

---

## **âœ… 2. `UserMapper.xml`ê³¼ `UserMapper.java` ë§¤í•‘**
- `UserMapper.java`ëŠ” **ì¸í„°í˜ì´ìŠ¤**ë¡œ ì‘ì„±  
- `UserMapper.xml`ì˜ **ì¿¼ë¦¬ IDì™€ ê°™ì€ ë©”ì„œë“œëª…**ì„ ì‚¬ìš©í•´ì•¼ í•¨  
- MyBatisê°€ **ì¸í„°í˜ì´ìŠ¤ì™€ XML íŒŒì¼ì„ ìë™ìœ¼ë¡œ ë§¤í•‘**í•´ì¤Œ  

ğŸ“Œ **ì˜ˆì œ (`UserMapper.java`)**
```java
package com.example.mapper;

import com.example.dto.User;
import java.util.List;

public interface UserMapper {
    List<User> getUserList();
    User getUserById(String id);
}
```

ğŸ“Œ **ë§¤í•‘ ê°œë…**
- `getUserList()` í˜¸ì¶œ â†’ `UserMapper.xml`ì—ì„œ `<select id="getUserList">` ì‹¤í–‰ë¨  
- `getUserById("123")` í˜¸ì¶œ â†’ `<select id="getUserById">` ì‹¤í–‰ë¨  

---

## **âœ… 3. DAOì—ì„œ `UserMapper`ë¥¼ í˜¸ì¶œ**
DAOëŠ” **Mapper ì¸í„°í˜ì´ìŠ¤ë¥¼ ì§ì ‘ í˜¸ì¶œ**í•˜ì—¬ MyBatisê°€ **ìë™ìœ¼ë¡œ ë§¤í•‘ëœ SQLì„ ì‹¤í–‰**í•˜ë„ë¡ í•¨.

ğŸ“Œ **ì˜ˆì œ (`UserDAO.java`)**
```java
package com.example.dao;

import com.example.dto.User;
import com.example.mapper.UserMapper;
import org.apache.ibatis.session.SqlSession;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Repository;
import java.util.List;

@Repository
public class UserDAO {
    @Autowired
    private SqlSession sqlSession;

    public List<User> getAllUsers() {
        return sqlSession.getMapper(UserMapper.class).getUserList();
    }

    public User getUserById(String id) {
        return sqlSession.getMapper(UserMapper.class).getUserById(id);
    }
}
```

ğŸ“Œ **ì‘ë™ ë°©ì‹**
1. `sqlSession.getMapper(UserMapper.class).getUserList()` ì‹¤í–‰  
2. MyBatisê°€ `UserMapper.xml`ì—ì„œ `<select id="getUserList">` ì¿¼ë¦¬ ì‹¤í–‰  
3. DBì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ `List<User>`ë¡œ ë³€í™˜  

---

## **âœ… 4. JSF `ManagedBean`ì—ì„œ DAO í˜¸ì¶œ**
JSFì—ì„œ DAOë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•

ğŸ“Œ **ì˜ˆì œ (`UserBean.java`)**
```java
@ManagedBean
@ViewScoped
public class UserBean {
    @Autowired
    private UserDAO userDAO;

    private List<User> users;
    private String selectedUserId;

    @PostConstruct
    public void init() {
        users = userDAO.getAllUsers();
    }

    public void searchUser() {
        User user = userDAO.getUserById(selectedUserId);
        if (user != null) {
            users = List.of(user);
        }
    }

    // Getter & Setter
}
```

ğŸ“Œ **JSFì—ì„œ í™”ë©´ ì¶œë ¥ (`userlist.xhtml`)**
```xml
<h:dataTable value="#{userBean.users}" var="user">
    <h:column><f:facet name="header">ID</f:facet>#{user.id}</h:column>
    <h:column><f:facet name="header">ì´ë¦„</f:facet>#{user.name}</h:column>
</h:dataTable>
```

---

## **âœ… ê°œë… ì •ë¦¬**
1. **`UserMapper.xml`**  
   - SQL ì¿¼ë¦¬ ì‘ì„±  

2. **`UserMapper.java` (ì¸í„°í˜ì´ìŠ¤)**  
   - `UserMapper.xml`ê³¼ DAO ì—°ê²°  

3. **`UserDAO.java`**  
   - `sqlSession.getMapper(UserMapper.class)`ì„ í†µí•´ XMLì˜ SQL ì‹¤í–‰  

4. **JSF `ManagedBean` (`UserBean.java`)**  
   - DAOë¥¼ ì‚¬ìš©í•˜ì—¬ DBì—ì„œ ë°ì´í„° ê°€ì ¸ì˜´  
   - JSF í™”ë©´ì—ì„œ ì¶œë ¥  

---

## **âœ… ê²°ë¡ **
âœ” **`UserMapper.xml`ì€ SQLì„ ì €ì¥í•˜ëŠ” ì—­í• **  
âœ” **DAOì—ì„œ `sqlSession.getMapper(UserMapper.class)`ë¥¼ ì‚¬ìš©í•´ SQL ì‹¤í–‰**  
âœ” **JSF â†’ ManagedBean â†’ DAO â†’ Mapper â†’ MyBatis** ìˆœì„œë¡œ ë™ì‘  

ì´ì œ MyBatisì™€ DAOì˜ ê´€ê³„ê°€ ëª…í™•í•´ì¡Œì„ ê±°ì•¼!  
ì¶”ê°€ë¡œ ê¶ê¸ˆí•œ ì  ìˆìœ¼ë©´ ë§í•´ì¤˜ ğŸ˜Š
