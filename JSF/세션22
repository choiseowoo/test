ë„¤, **ê·¼ë³¸ì ìœ¼ë¡œ ì˜ëª»ëœ ë°©ì‹**ì…ë‹ˆë‹¤.  
`session.setAttribute(SESSIONKEY_SESSION, "userid");` ì´ ì½”ë“œ ë•Œë¬¸ì— **ìºìŠ¤íŒ… ì—ëŸ¬ê°€ ë°œìƒ**í•©ë‹ˆë‹¤.  

---

### **ğŸ“Œ ì›ì¸ ë¶„ì„**
#### **1ï¸âƒ£ `session.setAttribute(SESSIONKEY_SESSION, "userid")`ì˜ ë¬¸ì œ**
```java
session.setAttribute(SESSIONKEY_SESSION, "userid");
```
ì´ë ‡ê²Œ ì €ì¥í•˜ë©´ `SESSIONKEY_SESSION` í‚¤ì— **ë¬¸ìì—´(String)** `"userid"`ê°€ ì§ì ‘ ì €ì¥ë©ë‹ˆë‹¤.  
í•˜ì§€ë§Œ ì´í›„ì— ì•„ë˜ ì½”ë“œì²˜ëŸ¼ **Mapìœ¼ë¡œ ë³€í™˜í•˜ë ¤ê³  í•˜ë©´** ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤.

```java
Map<String, Object> sessionData = (Map<String, Object>) session.getAttribute(SESSIONKEY_SESSION);
```
**ğŸ”¥ ì—ëŸ¬ ë°œìƒ ì´ìœ **  
- ì„¸ì…˜ì—ëŠ” `"userid"`ë¼ëŠ” ë‹¨ìˆœ ë¬¸ìì—´(String)ì´ ì €ì¥ë¨  
- í•˜ì§€ë§Œ êº¼ë‚¼ ë•Œ `Map<String, Object>`ìœ¼ë¡œ **ì˜ëª»ëœ ìºìŠ¤íŒ…ì„ ì‹œë„í•¨**  
- `String`ì„ `Map<String, Object>`ìœ¼ë¡œ ë³€í™˜í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— **ClassCastException ë°œìƒ**  

```bash
java.lang.ClassCastException: java.lang.String cannot be cast to java.util.Map
```

---

### **ğŸ“Œ í•´ê²° ë°©ë²•**
#### âœ… **ë°©ë²• 1) ì„¸ì…˜ì— `Map`ì„ ì €ì¥í•˜ê¸°**
ì„¸ì…˜ì— ê°’ì„ ì €ì¥í•  ë•Œ **í•­ìƒ `Map` í˜•íƒœë¡œ ì €ì¥í•´ì•¼ í•©ë‹ˆë‹¤.**  
```java
Map<String, Object> sessionData = new HashMap<>();
sessionData.put("USER_ID", "testUser");
sessionData.put("USER_ROLE", "admin");
sessionData.put("USER_TOKEN", "sampleToken");

// ì„¸ì…˜ì— Mapì„ ì €ì¥
session.setAttribute(SESSIONKEY_SESSION, sessionData);
```
ì´ë ‡ê²Œ í•˜ë©´, ë‚˜ì¤‘ì— `session.getAttribute(SESSIONKEY_SESSION)`ì„ í˜¸ì¶œí•  ë•Œ **ì˜¬ë°”ë¥´ê²Œ `Map` íƒ€ì…ìœ¼ë¡œ ìºìŠ¤íŒ… ê°€ëŠ¥**í•©ë‹ˆë‹¤.

---

#### âœ… **ë°©ë²• 2) ì„¸ì…˜ì—ì„œ êº¼ë‚¼ ë•Œ `instanceof` ê²€ì‚¬í•˜ê¸°**
í˜¹ì‹œ ê¸°ì¡´ ì½”ë“œì—ì„œ ë¬¸ìì—´ë¡œ ì €ì¥ë˜ì—ˆì„ ê°€ëŠ¥ì„±ì´ ìˆë‹¤ë©´, ê°€ì ¸ì˜¬ ë•Œ `instanceof` ê²€ì‚¬ë¥¼ ì¶”ê°€í•˜ì—¬ **ì•ˆì „í•˜ê²Œ ë³€í™˜**í•´ì•¼ í•©ë‹ˆë‹¤.
```java
Object sessionObj = session.getAttribute(SESSIONKEY_SESSION);

Map<String, Object> sessionData;
if (sessionObj instanceof Map) {
    sessionData = (Map<String, Object>) sessionObj;
} else {
    sessionData = new HashMap<>();
}

// ì´ì œ sessionDataë¥¼ ì•ˆì „í•˜ê²Œ ì‚¬ìš© ê°€ëŠ¥
sessionData.put("USER_ID", "testUser");
session.setAttribute(SESSIONKEY_SESSION, sessionData);
```
ì´ë ‡ê²Œ í•˜ë©´, **ì„¸ì…˜ì— ì €ì¥ëœ ë°ì´í„°ê°€ ì˜ëª»ëœ íƒ€ì…ì¼ ê²½ìš°ì—ë„ ì•ˆì „í•˜ê²Œ ì´ˆê¸°í™”í•  ìˆ˜ ìˆìŒ**.

---

### **ğŸ“Œ ê²°ë¡ **
- `session.setAttribute(SESSIONKEY_SESSION, "userid");` âŒ **(ì˜ëª»ëœ ë°©ì‹)**
  - `SESSIONKEY_SESSION` í‚¤ì— `String`ì„ ì €ì¥í•˜ë©´ `ClassCastException` ë°œìƒ  
- `session.setAttribute(SESSIONKEY_SESSION, Map<String, Object>);` âœ… **(ì˜¬ë°”ë¥¸ ë°©ì‹)**
  - `Map`ì„ ì €ì¥í•˜ê³  êº¼ë‚¼ ë•Œ `Map`ìœ¼ë¡œ ë³€í™˜í•´ì•¼ í•¨  
- `instanceof`ë¥¼ ì‚¬ìš©í•´ì„œ íƒ€ì… ê²€ì‚¬ í›„ ë³€í™˜í•˜ë©´ **ê¸°ì¡´ ë°ì´í„°ì™€ ì¶©ëŒ ì—†ì´ ë™ì‘ ê°€ëŠ¥**  

ì´ì œ `ClassCastException` ë¬¸ì œ ì—†ì´ ë™ì‘í•  ê±°ì•¼!
