ë§ì•„! `SESSIONKEY_SESSION`ì€ **ìœ ì € ì„¸ì…˜ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” í‚¤**ì´ê¸° ë•Œë¬¸ì—, í† í°ê³¼ í•¨ê»˜ `HttpSession` ê°ì²´ì— ì €ì¥í•˜ë©´ ë¼.  

### **ğŸš€ `SESSIONKEY_SESSION`ì— í† í° ë° ìœ ì € ì •ë³´ ì €ì¥í•˜ëŠ” ë°©ë²•**  

#### **âœ… 1. `SessionBean.java`ì—ì„œ `SESSIONKEY_SESSION` ì‚¬ìš©**
```java
import jakarta.enterprise.context.SessionScoped;
import jakarta.inject.Named;
import jakarta.faces.context.FacesContext;
import jakarta.servlet.http.HttpSession;
import java.io.Serializable;
import java.util.HashMap;
import java.util.Map;

@Named
@SessionScoped
public class SessionBean implements Serializable {
    private static final String SESSIONKEY_SESSION = "framework.session"; // ì„¸ì…˜ í‚¤
    private String token;
    private String userId = "testUser";   // ì˜ˆì œ ì‚¬ìš©ì ID
    private String userRole = "admin";    // ì˜ˆì œ ì—­í• 

    public String getToken() { return token; }
    public void setToken(String token) { this.token = token; }

    // ì„¸ì…˜ì— í† í°ê³¼ ìœ ì € ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ë©”ì„œë“œ
    public void saveToSession() {
        FacesContext facesContext = FacesContext.getCurrentInstance();
        if (facesContext != null) {
            HttpSession session = (HttpSession) facesContext.getExternalContext().getSession(true);
            
            // ê¸°ì¡´ ì„¸ì…˜ ì •ë³´ ê°€ì ¸ì˜¤ê¸° (ì—†ìœ¼ë©´ ìƒˆë¡œ ìƒì„±)
            Map<String, Object> sessionData = (Map<String, Object>) session.getAttribute(SESSIONKEY_SESSION);
            if (sessionData == null) {
                sessionData = new HashMap<>();
            }

            // í† í° ë° ìœ ì € ì •ë³´ ì €ì¥
            sessionData.put("USER_TOKEN", token);
            sessionData.put("USER_ID", userId);
            sessionData.put("USER_ROLE", userRole);
            
            // ì„¸ì…˜ì— ì €ì¥
            session.setAttribute(SESSIONKEY_SESSION, sessionData);

            System.out.println("ì„¸ì…˜ ì €ì¥ ì™„ë£Œ: " + sessionData);
        }
    }

    // ì„¸ì…˜ì—ì„œ ê°’ ê°€ì ¸ì˜¤ê¸°
    public Map<String, Object> getSessionData() {
        FacesContext facesContext = FacesContext.getCurrentInstance();
        if (facesContext != null) {
            HttpSession session = (HttpSession) facesContext.getExternalContext().getSession(false);
            if (session != null) {
                return (Map<String, Object>) session.getAttribute(SESSIONKEY_SESSION);
            }
        }
        return null;
    }
}
```

---

#### **âœ… 2. `setSession.xhtml`ì—ì„œ ì„¸ì…˜ì— ì €ì¥í•˜ë„ë¡ ì„¤ì •**
```xml
<f:metadata>
    <f:viewParam name="token" value="#{sessionBean.token}" />
    <f:event type="preRenderView" listener="#{sessionBean.saveToSession}" />
</f:metadata>
```
â†’ `setSession.xhtml`ì— ì ‘ê·¼í•˜ë©´ ìë™ìœ¼ë¡œ `saveToSession()`ì´ ì‹¤í–‰ë˜ì–´ ì„¸ì…˜ì— í† í°ê³¼ ìœ ì € ì •ë³´ë¥¼ ì €ì¥í•¨.

---

#### **âœ… 3. ì„¸ì…˜ ê°’ í™•ì¸ (`portal.xhtml`)**
```xml
<h:body>
    <h:outputText value="ì„¸ì…˜ì— ì €ì¥ëœ í† í°: #{sessionBean.getSessionData()['USER_TOKEN']}" /><br/>
    <h:outputText value="ì„¸ì…˜ì— ì €ì¥ëœ ìœ ì € ID: #{sessionBean.getSessionData()['USER_ID']}" /><br/>
    <h:outputText value="ì„¸ì…˜ì— ì €ì¥ëœ ì—­í• : #{sessionBean.getSessionData()['USER_ROLE']}" /><br/>
</h:body>
```

---

### **ğŸ“Œ ì •ë¦¬**
- `SESSIONKEY_SESSION`ì— **Map<String, Object> êµ¬ì¡°ë¡œ í† í°ê³¼ ìœ ì € ì •ë³´ ì €ì¥**  
- `saveToSession()`ì—ì„œ ì„¸ì…˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ `SESSIONKEY_SESSION`ì— ì—…ë°ì´íŠ¸  
- `portal.xhtml`ì—ì„œ `sessionBean.getSessionData()`ë¡œ ê°’ í™•ì¸ ê°€ëŠ¥  

ì´ì œ **ì„¸ì…˜ ê°’ì´ ìœ ì§€ë˜ë©´ì„œ ë‹¤ë¥¸ í˜ì´ì§€ì—ì„œë„ ìœ ì € ì •ë³´ë¥¼ í™œìš©í•  ìˆ˜ ìˆì–´!**
