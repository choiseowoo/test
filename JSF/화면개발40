JSF + MyBatis í™˜ê²½ì—ì„œ **h:selectOneRadio**ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°’ ì „ë‹¬í•˜ê³ , JavaScriptë¡œ ì„ íƒëœ ê°’ì„ ë¶€ëª¨ í˜ì´ì§€ì— ë„˜ê¸°ë©´ì„œ, **í˜ì´ì§•(ë§¨ì• ì´ë™, ì•ìœ¼ë¡œ ì´ë™, ì´ì „ ì´ë™, ë§¨ë’¤ ì´ë™)**ì„ í¬í•¨í•œ ì½”ë“œë¥¼ ì‘ì„±í•´ë“œë¦´ê²Œìš”.  

---

## âœ… **1. ì£¼ìš” ê¸°ëŠ¥**
âœ” **h:selectOneRadioë¡œ ë¼ë””ì˜¤ ë²„íŠ¼ êµ¬í˜„**  
âœ” **JavaScriptë¡œ ì„ íƒí•œ ê°’ ì €ì¥ ë° ë¶€ëª¨ í˜ì´ì§€ì— ì „ë‹¬**  
âœ” **í˜ì´ì§• ê¸°ëŠ¥ (ë§¨ì• ì´ë™, ì•ìœ¼ë¡œ ì´ë™, ì´ì „ ì´ë™, ë§¨ë’¤ ì´ë™)**  
âœ” **í˜ì´ì§• ì²˜ë¦¬ëŠ” Java (Managed Bean)ì—ì„œ ì²˜ë¦¬**  

---

## âœ… **2. XHTML ì½”ë“œ (`userSearch.xhtml`)**
```xhtml
<h:form id="userForm">
    <h:dataTable value="#{userBean.userList}" var="user" border="1">
        <h:column>
            <f:facet name="header">ì„ íƒ</f:facet>
            <h:selectOneRadio id="radio" value="#{userBean.selectedUser}">
                <f:selectItem itemValue="#{user.name}/#{user.code}/#{user.email}" />
                <f:ajax event="click" render="selectedUserValue" />
            </h:selectOneRadio>
        </h:column>
        <h:column>
            <f:facet name="header">ì´ë¦„</f:facet> #{user.name}
        </h:column>
        <h:column>
            <f:facet name="header">ì½”ë“œ</f:facet> #{user.code}
        </h:column>
        <h:column>
            <f:facet name="header">ì´ë©”ì¼</f:facet> #{user.email}
        </h:column>
    </h:dataTable>

    <!-- ì„ íƒí•œ ê°’ ì¶œë ¥ -->
    <h:outputText id="selectedUserValue" value="ì„ íƒëœ ì‚¬ìš©ì: #{userBean.selectedUser}" />

    <!-- í˜ì´ì§• ë²„íŠ¼ -->
    <div>
        <h:commandButton value="<< ë§¨ì•" action="#{userBean.goToFirstPage}" />
        <h:commandButton value="< ì´ì „" action="#{userBean.goToPreviousPage}" disabled="#{userBean.currentPage == 1}" />
        <h:outputText value="#{userBean.currentPage} / #{userBean.totalPages}" />
        <h:commandButton value="ë‹¤ìŒ >" action="#{userBean.goToNextPage}" disabled="#{userBean.currentPage == userBean.totalPages}" />
        <h:commandButton value="ë§¨ë’¤ >>" action="#{userBean.goToLastPage}" />
    </div>

    <!-- ì„ íƒ ë²„íŠ¼ -->
    <h:commandButton value="ì„ íƒ" onclick="sendToParent()" />
</h:form>

<script>
    function sendToParent() {
        let selectedUser = document.getElementById("userForm:selectedUserValue").innerText.replace("ì„ íƒëœ ì‚¬ìš©ì: ", "");
        if (!selectedUser.trim()) {
            alert("ì‚¬ìš©ìë¥¼ ì„ íƒí•˜ì„¸ìš”.");
            return;
        }

        window.opener.document.getElementById("parentInput").value = selectedUser;
        window.close();
    }
</script>
```

---

## âœ… **3. Java (Managed Bean) `UserBean.java`**
```java
import jakarta.faces.view.ViewScoped;
import jakarta.inject.Named;
import java.io.Serializable;
import java.util.List;

@Named
@ViewScoped
public class UserBean implements Serializable {
    private List<User> userList;
    private String selectedUser;
    
    private int currentPage = 1;
    private int pageSize = 10;
    private int totalPages;
    
    public UserBean() {
        loadUsers();
    }

    public void loadUsers() {
        // ì˜ˆì œ: MyBatisì—ì„œ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
        userList = UserDAO.getUsers((currentPage - 1) * pageSize, pageSize);
        totalPages = (int) Math.ceil((double) UserDAO.getTotalUserCount() / pageSize);
    }

    public void goToFirstPage() {
        currentPage = 1;
        loadUsers();
    }

    public void goToPreviousPage() {
        if (currentPage > 1) {
            currentPage--;
            loadUsers();
        }
    }

    public void goToNextPage() {
        if (currentPage < totalPages) {
            currentPage++;
            loadUsers();
        }
    }

    public void goToLastPage() {
        currentPage = totalPages;
        loadUsers();
    }

    // Getters and Setters
    public List<User> getUserList() { return userList; }
    public String getSelectedUser() { return selectedUser; }
    public void setSelectedUser(String selectedUser) { this.selectedUser = selectedUser; }
    public int getCurrentPage() { return currentPage; }
    public int getTotalPages() { return totalPages; }
}
```

---

## âœ… **4. MyBatis DAO (`UserDAO.java`)**
```java
import java.util.List;
import org.apache.ibatis.session.SqlSession;

public class UserDAO {
    public static List<User> getUsers(int offset, int limit) {
        try (SqlSession session = MyBatisUtil.getSqlSessionFactory().openSession()) {
            return session.selectList("UserMapper.getUsers", new PagingParams(offset, limit));
        }
    }

    public static int getTotalUserCount() {
        try (SqlSession session = MyBatisUtil.getSqlSessionFactory().openSession()) {
            return session.selectOne("UserMapper.getTotalUserCount");
        }
    }
}
```

---

## âœ… **5. MyBatis Mapper (`UserMapper.xml`)**
```xml
<select id="getUsers" resultType="User">
    SELECT * FROM users LIMIT #{limit} OFFSET #{offset}
</select>

<select id="getTotalUserCount" resultType="int">
    SELECT COUNT(*) FROM users
</select>
```

---

## âœ… **6. ë¶€ëª¨ í˜ì´ì§€ (`parent.xhtml`)**
```xhtml
<h:form>
    <h:inputText id="parentInput" value="#{userBean.selectedUser}" readonly="true" />
    <h:commandButton value="ì‚¬ìš©ì ê²€ìƒ‰" onclick="openSearchWindow()" />
</h:form>

<script>
    function openSearchWindow() {
        window.open("userSearch.xhtml", "ì‚¬ìš©ì ê²€ìƒ‰", "width=600,height=400");
    }
</script>
```

---

## âœ… **7. ì‹¤í–‰ ê²°ê³¼**
### **â‘  ì‚¬ìš©ì ê²€ìƒ‰ ì°½ (`userSearch.xhtml`)**
| ì„ íƒ | ì´ë¦„ | ì½”ë“œ | ì´ë©”ì¼ |
|------|------|------|------|
| ğŸ”˜ | í™ê¸¸ë™ | 001 | hong@example.com |
| â­˜ | ì´ìˆœì‹  | 002 | lee@example.com |
| â­˜ | ê°•ê°ì°¬ | 003 | kang@example.com |

#### **í˜ì´ì§• ë²„íŠ¼**
```
<< ë§¨ì•   < ì´ì „   1 / 5   ë‹¤ìŒ >   ë§¨ë’¤ >>
```
âœ… **í™ê¸¸ë™ ì„ íƒ í›„ "ì„ íƒ" ë²„íŠ¼ í´ë¦­**  

---

### **â‘¡ ë¶€ëª¨ í˜ì´ì§€ (`parent.xhtml`)**
```
í™ê¸¸ë™/001/hong@example.com
```
ğŸ“Œ **ë¶€ëª¨ í˜ì´ì§€ì˜ `inputText`ì— ìë™ ì…ë ¥ë¨.**  

---

## âœ… **8. ê²°ë¡ **
âœ” **h:selectOneRadio ì‚¬ìš©í•˜ì—¬ ë¼ë””ì˜¤ ë²„íŠ¼ êµ¬í˜„**  
âœ” **JavaScriptë¥¼ ì´ìš©í•´ ë¶€ëª¨ í˜ì´ì§€ë¡œ ë°ì´í„° ì „ë‹¬**  
âœ” **í˜ì´ì§• ê¸°ëŠ¥(ë§¨ì•/ì•ìœ¼ë¡œ/ë’¤ë¡œ/ë§¨ë’¤) ì¶”ê°€**  
âœ” **MyBatisë¥¼ ì´ìš©í•´ DBì—ì„œ í˜ì´ì§• ì²˜ë¦¬**  

ì´ì œ JSF + MyBatis í™˜ê²½ì—ì„œ **í˜ì´ì§•ê³¼ ë°ì´í„° ì„ íƒ ê¸°ëŠ¥ì´ ì™„ë²½í•˜ê²Œ ë™ì‘**í•©ë‹ˆë‹¤! ğŸš€
