`@ViewScoped`ë¥¼ ì‚¬ìš©í•  ë•Œ ëª‡ ê°€ì§€ ì£¼ì˜í•´ì•¼ í•  ì ì´ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ **MyBatisì™€ í•¨ê»˜ ì‚¬ìš©í•  ë•Œ**, ìƒíƒœ ìœ ì§€ ë° ë°ì´í„° ê°±ì‹ ì´ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ë„ë¡ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤.  

---

## **âœ… 1. `@ViewScoped`ëŠ” `Serializable`ì„ êµ¬í˜„í•´ì•¼ í•¨**
JSFì˜ `@ViewScoped` ë¹ˆì€ **ì„¸ì…˜ì— ê°ì²´ë¥¼ ì €ì¥í•˜ëŠ” ë°©ì‹**ì„ ì‚¬ìš©í•˜ë¯€ë¡œ, `Serializable`ì„ ë°˜ë“œì‹œ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.  

```java
@Named("userBean")
@ViewScoped
public class UserBean implements Serializable { // âœ… Serializable êµ¬í˜„ í•„ìˆ˜
    private static final long serialVersionUID = 1L; // ê¶Œì¥ë¨
}
```
âœ” **ì•ˆ í•˜ë©´ `NotSerializableException`ì´ ë°œìƒí•  ìˆ˜ ìˆìŒ.**

---

## **âœ… 2. `@Inject` ì‚¬ìš© ì‹œ ì£¼ì˜í•  ì **
`@Inject`ë¡œ MyBatisì˜ `UserDAO`ë¥¼ ì£¼ì…í•  ë•Œ **MyBatisì˜ ë§¤í¼ë¥¼ ì–´ë–»ê²Œ ê´€ë¦¬í•˜ëŠ”ì§€ í™•ì¸**í•´ì•¼ í•©ë‹ˆë‹¤.  
MyBatisì—ì„œ `@Mapper` ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•  ê²½ìš°, `@ApplicationScoped` ë˜ëŠ” `@RequestScoped`ë¡œ ê´€ë¦¬í•´ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### **(1) `@Inject`ë¡œ MyBatis ë§¤í¼ë¥¼ ì‚¬ìš©í•  ë•Œ**
```java
@Named("userBean")
@ViewScoped
public class UserBean implements Serializable {
    @Inject
    private UserMapper userMapper; // âœ… MyBatis ë§¤í¼ ì£¼ì…

    private List<User> userList;
    private String userName;
    private String userCode;

    public void searchUsers() {
        userList = userMapper.findUsers(userName, userCode);
    }
}
```
âœ” **ì´ë ‡ê²Œ í•˜ë©´ MyBatis ë§¤í¼ë¥¼ ì§ì ‘ ì£¼ì…ë°›ì•„ ì‚¬ìš© ê°€ëŠ¥**  

### **(2) `@Inject`ë¡œ DAO í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•  ë•Œ**
ë§Œì•½ DAO í´ë˜ìŠ¤ê°€ ìˆê³ , **MyBatisì˜ `SqlSession`ì„ ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•œë‹¤ë©´**, `@RequestScoped` ë˜ëŠ” `@ApplicationScoped`ë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

```java
@RequestScoped // âœ… ViewScopedê°€ ì•„ë‹ˆë¼ RequestScopedë¡œ ê´€ë¦¬ (íŠ¸ëœì­ì…˜ ê´€ë¦¬ ì‹œ ìœ ë¦¬)
public class UserDAO {
    @Inject
    private SqlSession sqlSession;

    public List<User> findUsers(String userName, String userCode) {
        return sqlSession.selectList("UserMapper.findUsers", Map.of("userName", userName, "userCode", userCode));
    }
}
```
âœ… **ì´ë ‡ê²Œ í•˜ë©´ `sqlSession`ì´ íŠ¸ëœì­ì…˜ ë²”ìœ„ ë‚´ì—ì„œ ê´€ë¦¬ë˜ì–´ ì•ˆì „í•˜ê²Œ ë™ì‘**  

---

## **âœ… 3. MyBatisì˜ `@Param`ê³¼ ê°™ì€ ê°œë…**
MyBatisì—ì„œ `@Param`ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì²˜ëŸ¼, **JSFì˜ `@ViewScoped`ì—ì„œë„ ë°ì´í„° ì£¼ì… ì‹œ ê³ ë ¤í•  ì ì´ ìˆìŒ**  

### **(1) JSF í˜ì´ì§€ì—ì„œ íŒŒë¼ë¯¸í„°ë¥¼ ë°›ì„ ë•Œ**
- `f:viewParam`ì„ ì‚¬ìš©í•˜ì—¬ ë·° íŒŒë¼ë¯¸í„°ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŒ  

```xhtml
<h:form>
    <h:inputText value="#{userBean.userName}" />
    <h:inputText value="#{userBean.userCode}" />
    <h:commandButton value="ê²€ìƒ‰" action="#{userBean.searchUsers}" />
</h:form>
```
âœ… ì´ë ‡ê²Œ í•˜ë©´ **ì…ë ¥ê°’ì´ `@ViewScoped` ë¹ˆì˜ í•„ë“œì— ìë™ìœ¼ë¡œ ë°”ì¸ë”©ë¨**  

---

## **âœ… 4. `@ViewScoped`ì—ì„œ Ajax ì‚¬ìš© ì‹œ ë°ì´í„°ê°€ ìœ ì§€ë˜ì§€ ì•ŠëŠ” ë¬¸ì œ**
- `@ViewScoped`ëŠ” **ë·°ê°€ ë³€ê²½ë˜ë©´ ì´ˆê¸°í™”**ë˜ë¯€ë¡œ, AJAX ìš”ì²­ìœ¼ë¡œ ë°ì´í„°ë¥¼ ìœ ì§€í•˜ë ¤ë©´ **JSFì˜ AJAX ì²˜ë¦¬ ë°©ì‹**ì„ ê³ ë ¤í•´ì•¼ í•¨  

### **(1) `f:ajax`ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„° ê°±ì‹  ìœ ì§€**
```xhtml
<h:form>
    <h:inputText value="#{userBean.userName}" />
    <h:inputText value="#{userBean.userCode}" />

    <h:commandButton value="ê²€ìƒ‰">
        <f:ajax execute="@form" render="userTable" />
    </h:commandButton>

    <h:dataTable value="#{userBean.userList}" var="user" id="userTable">
        <h:column>
            <f:facet name="header">ì´ë¦„</f:facet>
            #{user.name}
        </h:column>
    </h:dataTable>
</h:form>
```
âœ… **ì´ë ‡ê²Œ í•˜ë©´ ê²€ìƒ‰ í›„ì—ë„ `userList`ê°€ ìœ ì§€ë˜ë©´ì„œ í‘œì— ë°˜ì˜ë¨**  

---

## **ğŸš€ ê²°ë¡ **
| ë¬¸ì œ | í•´ê²° ë°©ë²• |
|------|-----------|
| `@ViewScoped`ëŠ” `Serializable`ì„ êµ¬í˜„í•´ì•¼ í•¨ | `implements Serializable` ì¶”ê°€ |
| `@Inject`ë¡œ `UserDAO` ë˜ëŠ” `UserMapper`ë¥¼ ì£¼ì…í•  ë•Œ, ìŠ¤ì½”í”„ ì„¤ì • í•„ìš” | DAOëŠ” `@RequestScoped` ì‚¬ìš© ê¶Œì¥ |
| AJAX ì‚¬ìš© ì‹œ ë°ì´í„°ê°€ ì‚¬ë¼ì§€ëŠ” ë¬¸ì œ | `f:ajax execute="@form" render="userTable"` ì‚¬ìš© |
| MyBatisì—ì„œ `@Param`ì²˜ëŸ¼ ë°ì´í„° ë°”ì¸ë”© | `f:viewParam`, JSF ë°”ì¸ë”© í™œìš© |

â¡ **ì´ì œ `@ViewScoped`ì™€ MyBatisë¥¼ í•¨ê»˜ ì‚¬ìš©í•  ë•Œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë¬¸ì œë¥¼ í”¼í•˜ë©´ì„œ ê°œë°œí•  ìˆ˜ ìˆì„ ê±°ì•¼!** ğŸš€
