## **âœ… í•´ê²°í•  ë¬¸ì œ**
1. **ì¡°ê±´ ê²€ìƒ‰ ì‹œ 10ê±´ì”© í‘œì‹œë˜ì§€ë§Œ ë‹¤ìŒ í˜ì´ì§€ë¡œ ì´ë™ ì•ˆ ë¨**  
   - `totalRecords` ê°’ì„ **ê²€ìƒ‰ëœ ë°ì´í„° ê¸°ì¤€ìœ¼ë¡œ ì„¤ì •í•´ì•¼ í•¨**  

---

## **âœ… 1ï¸âƒ£ í•´ê²° ë°©ë²•**
1. **`totalRecords` ê°’ì„ ê²€ìƒ‰ ì¡°ê±´ì— ë”°ë¼ ì—…ë°ì´íŠ¸**  
2. **í˜ì´ì§• ê³„ì‚°ì„ ê²€ìƒ‰ ê²°ê³¼ì— ë§ê²Œ ì ìš©**  

---

## **âœ… 2ï¸âƒ£ DAO ìˆ˜ì • (`UserDAO.java`)**
```java
public int getUserCount(String groupname, String name) {
    try (SqlSession session = MyBatisUtil.getSession()) {
        Map<String, Object> params = new HashMap<>();
        params.put("groupname", (groupname == null || groupname.isEmpty()) ? null : groupname);
        params.put("name", (name == null || name.isEmpty()) ? null : "%" + name + "%");
        return session.selectOne("UserMapper.getUserCount", params);
    }
}

public List<User> searchUsers(String groupname, String name, int currentPage, int pageSize) {
    try (SqlSession session = MyBatisUtil.getSession()) {
        int offset = (currentPage - 1) * pageSize;  // OFFSET ê³„ì‚°
        int limit = pageSize;

        Map<String, Object> params = new HashMap<>();
        params.put("groupname", (groupname == null || groupname.isEmpty()) ? null : groupname);
        params.put("name", (name == null || name.isEmpty()) ? null : "%" + name + "%");
        params.put("limit", limit);
        params.put("offset", offset);

        return session.selectList("UserMapper.searchUsers", params);
    }
}
```

---

## **âœ… 3ï¸âƒ£ MyBatis Mapper ìˆ˜ì • (`UserMapper.xml`)**
```xml
<!-- ì¡°ê±´ ê²€ìƒ‰ ì‹œ ë°ì´í„° ê°œìˆ˜ ì¡°íšŒ -->
<select id="getUserCount" parameterType="map" resultType="int">
    SELECT COUNT(*) FROM users
    WHERE (#{groupname} IS NULL OR groupname = #{groupname})
    AND (#{name} IS NULL OR name LIKE #{name})
</select>
```
âœ… **ìˆ˜ì •ëœ ì **  
- `getUserCount`ì—ì„œ **ê²€ìƒ‰ ì¡°ê±´ ì ìš©í•˜ì—¬ ê°œìˆ˜ ê³„ì‚°**  

---

## **âœ… 4ï¸âƒ£ Managed Bean ìˆ˜ì • (`UserBean.java`)**
```java
@Named
@SessionScoped
public class UserBean implements Serializable {
    private String searchGroupname;
    private String searchName;
    private int currentPage = 1;
    private int pageSize = 10;
    private int totalRecords;
    private List<User> users = new ArrayList<>();
    private final UserDAO userDAO = new UserDAO();

    public void searchUsers() {
        totalRecords = userDAO.getUserCount(searchGroupname, searchName); // ğŸ”¹ ê²€ìƒ‰ ì¡°ê±´ ì ìš©í•˜ì—¬ ê°œìˆ˜ ì¡°íšŒ
        users = userDAO.searchUsers(searchGroupname, searchName, currentPage, pageSize);
    }

    public void goToFirstPage() {
        if (getTotalPages() > 0) {
            currentPage = 1;
            searchUsers();
        }
    }

    public void goToPreviousPage() {
        if (currentPage > 1) {
            currentPage--;
            searchUsers();
        }
    }

    public void goToNextPage() {
        if (currentPage < getTotalPages()) {
            currentPage++;
            searchUsers();
        }
    }

    public void goToLastPage() {
        if (getTotalPages() > 0) {
            currentPage = getTotalPages();
            searchUsers();
        }
    }

    public int getTotalPages() {
        return (totalRecords == 0) ? 1 : (int) Math.ceil((double) totalRecords / pageSize);
    }

    // Getter & Setter ìƒëµ
}
```
âœ… **ìˆ˜ì •ëœ ì **  
- `searchUsers()`ì—ì„œ **ê²€ìƒ‰ ì¡°ê±´ì— ë§ëŠ” `totalRecords` ê°’ ì„¤ì •**  
- `getTotalPages()`ì—ì„œ **ë°ì´í„°ê°€ ì—†ìœ¼ë©´ ìµœì†Œ 1í˜ì´ì§€ ìœ ì§€**  

---

## **âœ… 5ï¸âƒ£ JSF í˜ì´ì§• ë²„íŠ¼ ìˆ˜ì • (`search.xhtml`)**
```xml
<h:panelGroup rendered="#{not empty userBean.users}">
    <h:dataTable value="#{userBean.users}" var="user" border="1">
        <h:column><f:facet name="header">Group Name</f:facet> #{user.groupname} </h:column>
        <h:column><f:facet name="header">Group Code</f:facet> #{user.groupcode} </h:column>
        <h:column><f:facet name="header">Name</f:facet> #{user.name} </h:column>
    </h:dataTable>

    <h:panelGrid columns="5">
        <h:commandButton value="<< ë§¨ì•" action="#{userBean.goToFirstPage}" disabled="#{userBean.currentPage == 1}" />
        <h:commandButton value="< ì´ì „" action="#{userBean.goToPreviousPage}" disabled="#{userBean.currentPage == 1}" />
        <h:outputText value="í˜ì´ì§€ #{userBean.currentPage} / #{userBean.totalPages}" />
        <h:commandButton value="ë‹¤ìŒ >" action="#{userBean.goToNextPage}" disabled="#{userBean.currentPage == userBean.totalPages}" />
        <h:commandButton value="ë§¨ë’¤ >>" action="#{userBean.goToLastPage}" disabled="#{userBean.currentPage == userBean.totalPages}" />
    </h:panelGrid>
</h:panelGroup>
```
âœ… **ìˆ˜ì •ëœ ì **  
- `ê²€ìƒ‰ í›„ totalPages` ê°’ì´ ì˜¬ë°”ë¥´ê²Œ ë°˜ì˜ë¨  
- ì²« í˜ì´ì§€ì—ì„œëŠ” **ì´ì „ ë²„íŠ¼ ë¹„í™œì„±í™”**, ë§ˆì§€ë§‰ í˜ì´ì§€ì—ì„œëŠ” **ë‹¤ìŒ ë²„íŠ¼ ë¹„í™œì„±í™”**  

---

## **âœ… ìµœì¢… í•´ê²°ëœ ë¬¸ì œ**
1. **ì¡°ê±´ ê²€ìƒ‰ ì‹œ ë‹¤ìŒ í˜ì´ì§€ë¡œ ì´ë™ ì•ˆ ë˜ëŠ” ë¬¸ì œ í•´ê²°**  
   - â†’ `totalRecords`ê°€ **ê²€ìƒ‰ëœ ê²°ê³¼ ê¸°ì¤€ìœ¼ë¡œ ì„¤ì •ë¨**  
2. **ê²€ìƒ‰ ì¡°ê±´ ì—†ì´ ì „ì²´ ë°ì´í„° ê²€ìƒ‰ ì‹œ í˜ì´ì§• ì •ìƒ ë™ì‘**  
   - â†’ `LIMIT #{limit} OFFSET #{offset}`ìœ¼ë¡œ **í˜ì´ì§€ë‹¹ ë°ì´í„° ì œí•œ ì ìš©ë¨**  
3. **í˜ì´ì§• ë²„íŠ¼ ì •ìƒ ë™ì‘**  
   - ì²« í˜ì´ì§€: `ì´ì „` ë¹„í™œì„±í™”  
   - ë§ˆì§€ë§‰ í˜ì´ì§€: `ë‹¤ìŒ` ë¹„í™œì„±í™”  

---

ì´ì œ **ê²€ìƒ‰ ì¡°ê±´ì— ë§ëŠ” ë°ì´í„°ë§Œ í˜ì´ì§• ì ìš©í•´ì„œ ì´ë™ ê°€ëŠ¥**í•  ê±°ì•¼! ğŸš€  
í…ŒìŠ¤íŠ¸í•´ë³´ê³  ë¬¸ì œ ìˆìœ¼ë©´ ë§í•´ì¤˜!
