### **âœ… ê²€ìƒ‰ ê±´ìˆ˜ë¥¼ DTOë¡œ ë„˜ê²¨ì„œ í˜ì´ì§• ì²˜ë¦¬í•˜ëŠ” ë°©ë²• (JSF & MyBatis)**  
ìœ ì € í…Œì´ë¸”ì—ì„œ **ê²€ìƒ‰ ê±´ìˆ˜ë¥¼ ê°€ì ¸ì™€ DTO (`CountDto`)**ì— ì €ì¥í•˜ê³ , **í˜ì´ì§• ì²˜ë¦¬**ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.  

---

### **ğŸ“Œ 1. `CountDto` ë§Œë“¤ê¸°**
ê²€ìƒ‰ ê±´ìˆ˜ë¥¼ ì €ì¥í•  DTOë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

```java
public class CountDto {
    private int allCount;      // ì „ì²´ ê²€ìƒ‰ ê±´ìˆ˜
    private int onePageCount;  // í•œ í˜ì´ì§€ ìµœëŒ€ ê±´ìˆ˜
    private int pageNumber;    // í˜„ì¬ í˜ì´ì§€ ë²ˆí˜¸

    // Getter & Setter
    public int getAllCount() {
        return allCount;
    }
    public void setAllCount(int allCount) {
        this.allCount = allCount;
    }

    public int getOnePageCount() {
        return onePageCount;
    }
    public void setOnePageCount(int onePageCount) {
        this.onePageCount = onePageCount;
    }

    public int getPageNumber() {
        return pageNumber;
    }
    public void setPageNumber(int pageNumber) {
        this.pageNumber = pageNumber;
    }
}
```

---

### **ğŸ“Œ 2. `UserService`ì—ì„œ ê²€ìƒ‰ ê±´ìˆ˜ ì¡°íšŒí•˜ê¸°**
MyBatisë¥¼ ì‚¬ìš©í•˜ì—¬ **ìœ ì € ê²€ìƒ‰ ê±´ìˆ˜ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë©”ì„œë“œ**ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.

```java
public interface UserMapper {
    // ì „ì²´ ê²€ìƒ‰ ê±´ìˆ˜ ì¡°íšŒ
    int getUserCount(@Param("searchCondition") String searchCondition);
}
```

```xml
<!-- MyBatis XML Mapper -->
<select id="getUserCount" parameterType="string" resultType="int">
    SELECT COUNT(*) 
    FROM user_table
    WHERE username LIKE CONCAT('%', #{searchCondition}, '%')
</select>
```

---

### **ğŸ“Œ 3. `UserService`ì—ì„œ ê²€ìƒ‰ ë° í˜ì´ì§• ì²˜ë¦¬**
ê²€ìƒ‰ ê²°ê³¼ì™€ ê²€ìƒ‰ ê±´ìˆ˜ë¥¼ ì¡°íšŒí•œ í›„, DTOì— ì €ì¥í•©ë‹ˆë‹¤.

```java
import javax.inject.Inject;
import java.util.List;

public class UserService {
    @Inject
    private UserMapper userMapper;

    public CountDto getUserSearchCount(String searchCondition, int pageNumber, int onePageCount) {
        int allCount = userMapper.getUserCount(searchCondition); // ì „ì²´ ê²€ìƒ‰ ê±´ìˆ˜ ê°€ì ¸ì˜¤ê¸°

        CountDto countDto = new CountDto();
        countDto.setAllCount(allCount);
        countDto.setOnePageCount(onePageCount);
        countDto.setPageNumber(pageNumber);
        return countDto;
    }
}
```

---

### **ğŸ“Œ 4. `UserBean`ì—ì„œ ê²€ìƒ‰ í›„ DTO ì €ì¥**
JSF `@ManagedBean`ì„ ì‚¬ìš©í•˜ì—¬ **ê²€ìƒ‰ í›„ DTOì— ê²€ìƒ‰ ê±´ìˆ˜ë¥¼ ì €ì¥**í•©ë‹ˆë‹¤.

```java
import javax.faces.bean.ManagedBean;
import javax.faces.bean.ViewScoped;
import javax.inject.Inject;

@ManagedBean
@ViewScoped
public class UserBean {
    @Inject
    private UserService userService;

    private CountDto countDto = new CountDto();
    private String searchKeyword;
    private int currentPage = 1;
    private int pageSize = 10;

    // ê²€ìƒ‰ ì‹¤í–‰
    public void searchUser() {
        // ê²€ìƒ‰ ê±´ìˆ˜ ì¡°íšŒ í›„ DTO ì €ì¥
        countDto = userService.getUserSearchCount(searchKeyword, currentPage, pageSize);
    }

    // Getter & Setter
    public CountDto getCountDto() {
        return countDto;
    }

    public String getSearchKeyword() {
        return searchKeyword;
    }
    public void setSearchKeyword(String searchKeyword) {
        this.searchKeyword = searchKeyword;
    }

    public int getCurrentPage() {
        return currentPage;
    }
    public void setCurrentPage(int currentPage) {
        this.currentPage = currentPage;
    }

    public int getPageSize() {
        return pageSize;
    }
    public void setPageSize(int pageSize) {
        this.pageSize = pageSize;
    }
}
```

---

### **ğŸ“Œ 5. `xhtml`ì—ì„œ ê²€ìƒ‰ ê±´ìˆ˜ì™€ í˜ì´ì§€ ì •ë³´ ì¶œë ¥**
JSF í™”ë©´ì—ì„œ **ê²€ìƒ‰ ê±´ìˆ˜, í˜ì´ì§€ ìˆ˜, í˜„ì¬ í˜ì´ì§€ í‘œì‹œ**í•˜ê¸°.

```xml
<h:form>
    <h:inputText value="#{userBean.searchKeyword}" />
    <h:commandButton value="ê²€ìƒ‰" action="#{userBean.searchUser}" />

    <h:outputText value="ì´ ê²€ìƒ‰ ê±´ìˆ˜: #{userBean.countDto.allCount}" />
    <h:outputText value="í•œ í˜ì´ì§€ ìµœëŒ€ ê±´ìˆ˜: #{userBean.countDto.onePageCount}" />
    <h:outputText value="í˜„ì¬ í˜ì´ì§€: #{userBean.countDto.pageNumber}" />
</h:form>
```

---

### **âœ… ê²°ë¡ **
ì´ì œ ê²€ìƒ‰ì„ ì‹¤í–‰í•˜ë©´:
1. **ê²€ìƒ‰ ê±´ìˆ˜ ì¡°íšŒ (`getUserCount`)**
2. **DTO (`CountDto`)ì— ê²€ìƒ‰ ê±´ìˆ˜, ìµœëŒ€ í˜ì´ì§€ ê±´ìˆ˜, í˜„ì¬ í˜ì´ì§€ ì €ì¥**
3. **JSF í™”ë©´ì—ì„œ ê²€ìƒ‰ ê±´ìˆ˜ì™€ í˜ì´ì§€ ì •ë³´ ì¶œë ¥ ê°€ëŠ¥**

ì´ ë°©ì‹ìœ¼ë¡œ **í˜ì´ì§• ì²˜ë¦¬ë¥¼ ìœ„í•œ ê²€ìƒ‰ ê±´ìˆ˜ ê´€ë¦¬ê°€ ê°€ëŠ¥**í•©ë‹ˆë‹¤.
