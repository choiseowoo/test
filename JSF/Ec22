ì¢‹ì€ ì§ˆë¬¸ì´ì—ìš”.
**â€œë¡œì»¬(Windows) + EC2(Linux) ë‘˜ ë‹¤ì—ì„œ ë™ì¼í•˜ê²Œ ë™ì‘â€** í•˜ê³ 
**â€œì§€ì •í•œ ê²½ë¡œì˜ ë³µìˆ˜ íŒŒì¼ì„ ì½ê³  ì‹¶ë‹¤â€**ë©´
ğŸ‘‰ **ì •ë‹µì€ `classpath`ê°€ ì•„ë‹ˆë¼ â€œíŒŒì¼ì‹œìŠ¤í…œ ê¸°ì¤€â€ìœ¼ë¡œ í†µì¼í•˜ëŠ” ê²ƒ**ì…ë‹ˆë‹¤.

ì•„ë˜ ë°©ì‹ì€ **ë¡œì»¬ / EC2 / WildFly / ë‹¨ë… JAR ì „ë¶€ ê³µí†µìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥**í•œ **ì‹¤ë¬´ ì •ë‹µ íŒ¨í„´**ì´ì—ìš”.

---

# âœ… ë¡œì»¬ + EC2 ê³µí†µ ì •ë‹µ êµ¬ì¡°

## 1ï¸âƒ£ ê²½ë¡œë¥¼ â€œì™¸ë¶€ ì„¤ì •â€ìœ¼ë¡œ ë°›ëŠ”ë‹¤

**í•˜ë“œì½”ë”© âŒ**

### ì˜ˆ)

* ë¡œì»¬: `C:/app/config/xmllist/actionlist`
* EC2: `/opt/app/config/xmllist/actionlist`

```java
String baseDir = System.getProperty("xml.base.dir");
// ë˜ëŠ” í™˜ê²½ë³€ìˆ˜
// String baseDir = System.getenv("XML_BASE_DIR");

Path dir = Paths.get(baseDir);
```

---

## 2ï¸âƒ£ OS ë…ë¦½ì ì¸ íŒŒì¼ ëª©ë¡ ì·¨ë“ + ì½ê¸° (í•µì‹¬)

```java
import java.io.IOException;
import java.nio.charset.StandardCharsets;
import java.nio.file.*;

public class XmlFileLoader {

    public static void load() throws IOException {

        String baseDir = System.getProperty("xml.base.dir");
        if (baseDir == null) {
            throw new IllegalStateException("xml.base.dir not set");
        }

        Path dir = Paths.get(baseDir);

        if (!Files.isDirectory(dir)) {
            throw new IllegalStateException("Not a directory: " + dir);
        }

        try (DirectoryStream<Path> stream =
                     Files.newDirectoryStream(dir, "*.xml")) {

            for (Path path : stream) {
                String fileName = path.getFileName().toString();
                System.out.println("read: " + fileName);

                String xml = Files.readString(path, StandardCharsets.UTF_8);
                // XML ì²˜ë¦¬
            }
        }
    }
}
```

---

## 3ï¸âƒ£ ì‹¤í–‰ ì‹œ ê²½ë¡œ ì§€ì • ë°©ë²•

### âœ” ë¡œì»¬ ì‹¤í–‰

```bash
java -Dxml.base.dir=C:/app/config/xmllist/actionlist -jar app.jar
```

### âœ” EC2 ì‹¤í–‰

```bash
java -Dxml.base.dir=/opt/app/config/xmllist/actionlist -jar app.jar
```

### âœ” WildFly

`standalone.conf`

```bash
JAVA_OPTS="$JAVA_OPTS -Dxml.base.dir=/opt/app/config/xmllist/actionlist"
```

---

# âŒ ì™œ getResourceAsStreamì€ ì•ˆ ì“°ëŠ”ê°€

| ì´ìœ          | ì„¤ëª…         |
| ---------- | ---------- |
| ë””ë ‰í„°ë¦¬ íƒìƒ‰ ë¶ˆê°€ | ë³µìˆ˜ íŒŒì¼ ë¶ˆê°€   |
| JAR ì˜ì¡´     | ì™¸ë¶€ íŒŒì¼ ëª» ì½ìŒ |
| ë°°í¬ í›„ ë³€ê²½ ë¶ˆê°€ | ìš´ì˜ì—ì„œ ì¹˜ëª…ì    |

ğŸ‘‰ **â€œí™˜ê²½ ê³µí†µâ€ ìš”êµ¬ì‚¬í•­ì—ëŠ” ë¶€ì í•©**

---

# ğŸ§  ì‹¤ë¬´ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

```
app/
 â”œâ”€ bin/
 â”œâ”€ lib/
 â””â”€ config/
     â””â”€ xmllist/actionlist/
         â”œâ”€ action1.xml
         â”œâ”€ action2.xml
```

* ì„¤ì • íŒŒì¼ì€ **JAR ë°–**
* ê²½ë¡œëŠ” **ì‹œìŠ¤í…œ í”„ë¡œí¼í‹° / í™˜ê²½ë³€ìˆ˜**
* ì½ê¸°ëŠ” **java.nio.file**

---

# ğŸ” ë¬¸ì œ ë°œìƒ ì‹œ ì²´í¬ ì½”ë“œ

```java
System.out.println("exists: " + Files.exists(dir));
System.out.println("readable: " + Files.isReadable(dir));
System.out.println("isDir: " + Files.isDirectory(dir));
```

---

# âœ… ìµœì¢… ê²°ë¡  (í•œ ì¤„)

> **ë¡œì»¬ + EC2 ê³µí†µ + ë³µìˆ˜ íŒŒì¼**
> ğŸ‘‰ `getResourceAsStream` âŒ
> ğŸ‘‰ `Paths + Files.newDirectoryStream` â­•

---

ì›í•˜ë©´

* âœ” WildFly ì„¤ì • ì˜ˆì œ
* âœ” Spring / JSFì—ì„œ ê²½ë¡œ ì£¼ì…
* âœ” S3ë¡œ í™•ì¥í•˜ëŠ” êµ¬ì¡°

ì§€ê¸ˆ ì“°ëŠ” **ì‹¤í–‰ ë°©ì‹(JAR/WildFly)** ì•Œë ¤ì£¼ë©´ ê±°ê¸°ì— ë§ì¶° ë”± ë§ê²Œ ì •ë¦¬í•´ì¤„ê²Œ.
