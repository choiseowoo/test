`@WebListener`ë¥¼ ìœ ì§€í•˜ë©´ì„œë„ `FacesContext.getCurrentInstance()`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ìˆ˜ì •í•˜ëŠ” ë°©ë²•ì´ í•„ìš”í•˜êµ°ìš”.  

`@WebListener`ëŠ” **ì„œë¸”ë¦¿ ì»¨í…ìŠ¤íŠ¸ ì´ˆê¸°í™” ë‹¨ê³„ì—ì„œ ì‹¤í–‰**ë˜ê¸° ë•Œë¬¸ì—, JSFì˜ `FacesContext`ê°€ **ì•„ì§ ìƒì„±ë˜ì§€ ì•Šì€ ìƒíƒœ**ì…ë‹ˆë‹¤. ë”°ë¼ì„œ `contextInitialized()`ì—ì„œ ì§ì ‘ `FacesContext`ë¥¼ í˜¸ì¶œí•˜ë©´ **ë¬´ì¡°ê±´ `null`ì´ ë°˜í™˜**ë©ë‹ˆë‹¤.  

í•˜ì§€ë§Œ **ì„œë¸”ë¦¿ì´ ê¸°ë™ëœ í›„, JSF ìš”ì²­ì´ ë“¤ì–´ì™”ì„ ë•Œ FacesContextë¥¼ ì‚¬ìš©**í•˜ë„ë¡ í•˜ë©´ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  

---

### âœ… **í•´ê²° ë°©ë²•: JSF ìš”ì²­ì´ ë°œìƒí•œ ì´í›„ì— FacesContext ì‚¬ìš©í•˜ê¸°**
`@WebListener`ì—ì„œ ì§ì ‘ `FacesContext`ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í•˜ë¯€ë¡œ,  
**1. `@WebListener`ì—ì„œ `ServletContext`ì— XML íŒŒì¼ ê²½ë¡œë¥¼ ì €ì¥í•˜ê³ ,**  
**2. JSF ìš”ì²­ì´ ë°œìƒí•œ í›„(`FacesContext`ê°€ í™œì„±í™”ëœ í›„)ì— XMLì„ íŒŒì‹±í•˜ë„ë¡ ë³€ê²½**í•©ë‹ˆë‹¤.  

---

### ğŸ”¹ **ë°©ë²• 1: `ServletContext`ì— XML ê²½ë¡œ ì €ì¥ í›„ JSFì—ì„œ ì‚¬ìš©**
#### **1ï¸âƒ£ `@WebListener`ì—ì„œ XML íŒŒì¼ ê²½ë¡œ ì €ì¥**
```java
import jakarta.servlet.ServletContext;
import jakarta.servlet.ServletContextEvent;
import jakarta.servlet.ServletContextListener;
import jakarta.servlet.annotation.WebListener;

@WebListener
public class AppConfigListener implements ServletContextListener {

    @Override
    public void contextInitialized(ServletContextEvent sce) {
        ServletContext context = sce.getServletContext();
        
        // XML íŒŒì¼ ê²½ë¡œë¥¼ ì„œë¸”ë¦¿ ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥
        String xmlPath = context.getRealPath("/WEB-INF/config.xml");
        context.setAttribute("XML_FILE_PATH", xmlPath);

        System.out.println("XML íŒŒì¼ ê²½ë¡œ ì €ì¥ ì™„ë£Œ: " + xmlPath);
    }

    @Override
    public void contextDestroyed(ServletContextEvent sce) {
    }
}
```
âœ… **ì„œë¸”ë¦¿ ì»¨í…ìŠ¤íŠ¸ê°€ ì´ˆê¸°í™”ë  ë•Œ XML ê²½ë¡œë¥¼ ì €ì¥.**  
âœ… **JSF ìš”ì²­ì´ ë“¤ì–´ì˜¤ê¸° ì „ê¹Œì§€ëŠ” FacesContextë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ.**  

---

#### **2ï¸âƒ£ JSFì—ì„œ FacesContextë¥¼ ì‚¬ìš©í•˜ì—¬ XML íŒŒì‹±**
```java
import jakarta.annotation.PostConstruct;
import jakarta.enterprise.context.ApplicationScoped;
import jakarta.faces.context.FacesContext;
import jakarta.faces.context.ExternalContext;
import jakarta.inject.Named;
import javax.xml.parsers.SAXParser;
import javax.xml.parsers.SAXParserFactory;
import java.io.File;

@Named
@ApplicationScoped
public class XmlParserBean {

    private String xmlFilePath;

    @PostConstruct
    public void init() {
        try {
            FacesContext context = FacesContext.getCurrentInstance();
            ExternalContext extContext = context.getExternalContext();

            // ServletContextì—ì„œ XML ê²½ë¡œ ê°€ì ¸ì˜¤ê¸°
            xmlFilePath = (String) extContext.getApplicationMap().get("XML_FILE_PATH");

            if (xmlFilePath != null) {
                SAXParserFactory factory = SAXParserFactory.newInstance();
                SAXParser parser = factory.newSAXParser();
                parser.parse(new File(xmlFilePath), new CustomHandler());

                System.out.println("XML Parsing ì™„ë£Œ!");
            } else {
                System.out.println("XML íŒŒì¼ ê²½ë¡œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ.");
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
```
âœ… **ì´ì œ `FacesContext.getCurrentInstance()`ê°€ `null`ì´ ì•„ë‹˜.**  
âœ… **JSF ìš”ì²­ì´ ë°œìƒí•œ í›„(`@PostConstruct`)ì—ë§Œ ì‹¤í–‰ë¨.**  
âœ… **`ServletContextListener`ì—ì„œ ì €ì¥í•œ XML ê²½ë¡œë¥¼ ê°€ì ¸ì™€ íŒŒì‹±í•  ìˆ˜ ìˆìŒ.**  

---

### ğŸ”¹ **ë°©ë²• 2: `ServletContext`ì—ì„œ ì§ì ‘ XMLì„ íŒŒì‹±í•œ í›„ ê²°ê³¼ë¥¼ ì €ì¥**
ë§Œì•½ **JSFì—ì„œ XMLì„ íŒŒì‹±í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, `@WebListener`ì—ì„œ íŒŒì‹±í•œ ê²°ê³¼ë¥¼ ì €ì¥í•˜ê³  ì‹¶ë‹¤ë©´**,  
ì•„ë˜ì™€ ê°™ì´ `@WebListener`ì—ì„œ XMLì„ íŒŒì‹±í•œ ê²°ê³¼ë¥¼ `ServletContext`ì— ì €ì¥í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.  

#### **ğŸ”¹ `@WebListener`ì—ì„œ XMLì„ íŒŒì‹±í•œ í›„ ê²°ê³¼ë¥¼ `ServletContext`ì— ì €ì¥**
```java
@WebListener
public class AppConfigListener implements ServletContextListener {

    @Override
    public void contextInitialized(ServletContextEvent sce) {
        ServletContext context = sce.getServletContext();

        try {
            String xmlPath = context.getRealPath("/WEB-INF/config.xml");
            SAXParserFactory factory = SAXParserFactory.newInstance();
            SAXParser parser = factory.newSAXParser();

            CustomHandler handler = new CustomHandler();
            parser.parse(new File(xmlPath), handler);

            // íŒŒì‹±í•œ ê²°ê³¼ë¥¼ ServletContextì— ì €ì¥
            context.setAttribute("PARSED_XML_DATA", handler.getParsedData());

            System.out.println("XML íŒŒì‹± ì™„ë£Œ í›„ ë°ì´í„° ì €ì¥: " + handler.getParsedData());

        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    @Override
    public void contextDestroyed(ServletContextEvent sce) {
    }
}
```
âœ… **ì„œë¸”ë¦¿ ì»¨í…ìŠ¤íŠ¸ ì´ˆê¸°í™” ì‹œ XMLì„ íŒŒì‹±í•˜ê³ , ê²°ê³¼ë¥¼ ì €ì¥.**  
âœ… **JSFì—ì„œ `FacesContext` ì—†ì´ë„ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŒ.**  

---

#### **ğŸ”¹ JSFì—ì„œ íŒŒì‹±ëœ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì½”ë“œ**
```java
@Named
@ApplicationScoped
public class XmlDataBean {
    
    private Object parsedXmlData;

    @PostConstruct
    public void init() {
        FacesContext context = FacesContext.getCurrentInstance();
        ExternalContext extContext = context.getExternalContext();

        // íŒŒì‹±ëœ ë°ì´í„°ë¥¼ ServletContextì—ì„œ ê°€ì ¸ì˜´
        parsedXmlData = extContext.getApplicationMap().get("PARSED_XML_DATA");

        System.out.println("XML ë°ì´í„° ë¡œë“œ ì™„ë£Œ: " + parsedXmlData);
    }

    public Object getParsedXmlData() {
        return parsedXmlData;
    }
}
```
âœ… **JSFì—ì„œ FacesContextê°€ í™œì„±í™”ëœ í›„ `ServletContext`ì—ì„œ XML ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŒ.**  
âœ… **XML íŒŒì‹±ì´ JSF ìš”ì²­ ì—†ì´ë„ `@WebListener`ì—ì„œ ì‹¤í–‰ë¨.**  

---

### **ğŸš€ ê²°ë¡ **
| ë°©ë²•  | í•´ê²° ë°©ë²• | íŠ¹ì§• |
|-------|---------|-------------------|
| ğŸ”¹ ë°©ë²• 1 | `ServletContext`ì— XML ê²½ë¡œ ì €ì¥ í›„ JSFì—ì„œ ì½ì–´ì˜¤ê¸° | JSFì—ì„œ XMLì„ ì§ì ‘ íŒŒì‹±í•´ì•¼ í•¨ |
| ğŸ”¹ ë°©ë²• 2 | `ServletContext`ì—ì„œ XMLì„ ë¯¸ë¦¬ íŒŒì‹± í›„ ê²°ê³¼ ì €ì¥ | JSFì—ì„œ ë°”ë¡œ ë°ì´í„° ì‚¬ìš© ê°€ëŠ¥ |

**ğŸ’¡ `@WebListener`ë¥¼ ìœ ì§€í•˜ë©´ì„œë„ `FacesContext.getCurrentInstance()`ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´, ë°©ë²• 1 ë˜ëŠ” ë°©ë²• 2ë¥¼ ì ìš©í•´ì•¼ í•¨.**  
**ê°€ì¥ ì¶”ì²œí•˜ëŠ” ë°©ë²•ì€, XML ë°ì´í„°ê°€ ìì£¼ ë³€ê²½ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ `ë°©ë²• 2`ë¥¼ ì ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ!**
