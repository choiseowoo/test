**JSF + JavaScriptë¥¼ ì‚¬ìš©í•˜ì—¬ `h:dataTable`ì—ì„œ ì„ íƒí•œ ë¼ë””ì˜¤ ë²„íŠ¼ì˜ `name/groupcode/groupname/userid` ê°’ì„ ë¶€ëª¨ í˜ì´ì§€ë¡œ ì „ë‹¬í•˜ëŠ” ë°©ë²•**ì„ ì •ë¦¬í•´ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.  

âœ… **ìš”êµ¬ì‚¬í•­ ì •ë¦¬:**  
1. `h:dataTable`ì—ì„œ ìœ ì € ì •ë³´ë¥¼ ì¶œë ¥ (name, groupcode, groupname, userid)  
2. ê° í–‰ì— **ë¼ë””ì˜¤ ë²„íŠ¼ì„ ë°°ì¹˜**í•˜ê³ , ì„ íƒ ì‹œ í•´ë‹¹ í–‰ì˜ ë°ì´í„°ë¥¼ ë³´ëƒ„  
3. "ì„ íƒ" ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ **ë¶€ëª¨ í˜ì´ì§€ë¡œ ê°’ ì „ë‹¬**  
4. ë¶€ëª¨ í˜ì´ì§€ì—ì„œ **`userid name` í˜•ì‹ìœ¼ë¡œ í‘œì‹œ**  

---

## **ğŸ“Œ 1. XHTML ì½”ë“œ (JSF)**
ì•„ë˜ ì½”ë“œì—ì„œëŠ” **ë¼ë””ì˜¤ ë²„íŠ¼ì„ ì„ íƒí•˜ë©´ í•´ë‹¹ í–‰ì˜ ëª¨ë“  ì •ë³´ë¥¼ ê°€ì ¸ì™€ì„œ ë¶€ëª¨ í˜ì´ì§€ë¡œ ì „ë‹¬**í•©ë‹ˆë‹¤.

```xml
<h:form id="userForm">
    <h:dataTable value="#{userBean.userList}" var="user">
        <h:column>
            <!-- ë¼ë””ì˜¤ ë²„íŠ¼ (ë°ì´í„° ì†ì„± í¬í•¨) -->
            <h:selectOneRadio id="userRadio" onclick="selectUser(this)"
                value="#{userBean.selectedUser}">
                <f:selectItem itemValue="#{user.id}" itemLabel="" />
            </h:selectOneRadio>

            <!-- Hidden fields to store data -->
            <h:inputHidden id="name" value="#{user.name}" />
            <h:inputHidden id="groupcode" value="#{user.groupcode}" />
            <h:inputHidden id="groupname" value="#{user.groupname}" />
        </h:column>
        <h:column>
            <h:outputText value="#{user.name}" />
        </h:column>
        <h:column>
            <h:outputText value="#{user.groupcode}" />
        </h:column>
        <h:column>
            <h:outputText value="#{user.groupname}" />
        </h:column>
        <h:column>
            <h:outputText value="#{user.id}" />
        </h:column>
    </h:dataTable>

    <!-- ì„ íƒ ë²„íŠ¼ -->
    <h:commandButton value="ì„ íƒ" type="button" onclick="sendToParent()" />
</h:form>

<script>
    let selectedData = {};

    function selectUser(radio) {
        let row = radio.closest("tr"); // í˜„ì¬ ë¼ë””ì˜¤ ë²„íŠ¼ì´ ìˆëŠ” í–‰ ì°¾ê¸°
        selectedData = {
            name: row.querySelector("[id$='name']").value,
            groupcode: row.querySelector("[id$='groupcode']").value,
            groupname: row.querySelector("[id$='groupname']").value,
            userid: radio.value
        };
    }

    function sendToParent() {
        if (selectedData.userid) {
            let formattedValue = `${selectedData.userid} ${selectedData.name}`;
            window.opener.postMessage(formattedValue, "*"); // ë¶€ëª¨ ì°½ìœ¼ë¡œ ê°’ ì „ë‹¬
            window.close(); // í˜„ì¬ ì°½ ë‹«ê¸°
        } else {
            alert("ìœ ì €ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.");
        }
    }
</script>
```

---

## **ğŸ“Œ 2. ë¶€ëª¨ í˜ì´ì§€ì—ì„œ ê°’ ë°›ê¸°**
ë¶€ëª¨ í˜ì´ì§€ì—ì„œ `postMessage()`ë¥¼ ë°›ì•„ì„œ `userid name` í˜•íƒœë¡œ í‘œì‹œí•©ë‹ˆë‹¤.

```html
<script>
    window.addEventListener("message", function(event) {
        console.log("ë°›ì€ ê°’:", event.data);
        document.getElementById("selectedUser").innerText = "ì„ íƒëœ ìœ ì €: " + event.data;
    });
</script>

<p id="selectedUser">ì„ íƒëœ ìœ ì € ì—†ìŒ</p>
```

---

## **ğŸ“Œ 3. ë™ì‘ ë°©ì‹**
1. `h:dataTable`ì—ì„œ ìœ ì € ë¦¬ìŠ¤íŠ¸ ì¶œë ¥  
2. **ë¼ë””ì˜¤ ë²„íŠ¼ í´ë¦­ ì‹œ í•´ë‹¹ í–‰ì˜ ë°ì´í„° ì €ì¥ (`selectUser()`)**  
3. "ì„ íƒ" ë²„íŠ¼ í´ë¦­ ì‹œ **ë¶€ëª¨ í˜ì´ì§€ë¡œ `userid name` í˜•ì‹ìœ¼ë¡œ ê°’ ì „ë‹¬**  
4. **í˜„ì¬ ì°½ ë‹«ê¸° (`window.close()`)**  
5. **ë¶€ëª¨ í˜ì´ì§€ì—ì„œ `userid name` í˜•ì‹ìœ¼ë¡œ ê°’ í‘œì‹œ**  

âœ… **ì´ ë°©ì‹ìœ¼ë¡œ ì›í•˜ëŠ” í˜•ì‹ëŒ€ë¡œ ë°ì´í„°ë¥¼ ë¶€ëª¨ í˜ì´ì§€ì— ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤!**
