ë§ìŠµë‹ˆë‹¤! `@PostConstruct`ì—ì„œ `userDao`ë¥¼ ì´ˆê¸°í™”í•´ì•¼ í•©ë‹ˆë‹¤. `userDao`ê°€ `null`ì¸ ìƒíƒœë¡œ ë‘ë©´, ê²€ìƒ‰ ê¸°ëŠ¥ì´ ë™ì‘í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. `@ViewScoped` Beanì´ ìƒì„±ë  ë•Œ `userDao`ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.

---

### **ë¬¸ì œì **
- `userDao`ê°€ `null`ì¸ ìƒíƒœë¡œ ë‘ë©´, ê²€ìƒ‰ ë²„íŠ¼ì„ ëˆŒëŸ¬ë„ `NullPointerException`ì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- `@ViewScoped`ëŠ” Beanì˜ ìƒëª…ì£¼ê¸°ë¥¼ ë·°(í˜ì´ì§€) ë‹¨ìœ„ë¡œ ê´€ë¦¬í•˜ì§€ë§Œ, ì˜ì¡´ì„± ì£¼ì…ì€ ìë™ìœ¼ë¡œ ì²˜ë¦¬ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë”°ë¼ì„œ `userDao`ë¥¼ ìˆ˜ë™ìœ¼ë¡œ ì´ˆê¸°í™”í•´ì•¼ í•©ë‹ˆë‹¤.

---

### **í•´ê²° ë°©ë²•**
`@PostConstruct`ì—ì„œ `userDao`ë¥¼ ì´ˆê¸°í™”í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ Beanì´ ìƒì„±ë  ë•Œ `userDao`ê°€ ì •ìƒì ìœ¼ë¡œ ì´ˆê¸°í™”ë˜ë„ë¡ í•©ë‹ˆë‹¤.

---

### **ìˆ˜ì •ëœ `UserBean.java`**

```java
import jakarta.inject.Named;
import jakarta.faces.view.ViewScoped;
import java.io.Serializable;
import java.util.ArrayList;
import java.util.List;
import java.util.Map;
import jakarta.faces.context.FacesContext;
import jakarta.faces.application.FacesMessage;

@Named
@ViewScoped
public class UserBean implements Serializable {
    private String organization;
    private String userName;
    private String userCode;
    private String userEmail;
    private List<Map<String, Object>> userList;
    private List<String> organizationList;

    private int currentPage = 1;
    private int pageSize = 10;
    private int totalPages;
    private int totalRecords;

    private UserDAO userDAO; // userDaoë¥¼ í•„ë“œë¡œ ì„ ì–¸

    @PostConstruct
    public void init() {
        userDAO = new UserDAO(); // userDao ì´ˆê¸°í™”
        userList = new ArrayList<>();
        organizationList = userDAO.getOrganizationList();
    }

    public void searchUsers() {
        // ê¸°ì¡´ ê²€ìƒ‰ ê²°ê³¼ ì´ˆê¸°í™” (í˜ì´ì§€ê°€ ìƒˆë¡œê³ ì¹¨ë˜ì§€ ì•Šë”ë¼ë„ ìƒˆë¡œìš´ ê²€ìƒ‰ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡)
        userList.clear();

        if ((userName == null || userName.trim().isEmpty()) && (userCode == null || userCode.trim().isEmpty())) {
            addErrorMessage("ìœ ì €ëª… ë˜ëŠ” ì½”ë“œëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
            return;
        }

        updateUserList(currentPage);

        if (userList.isEmpty()) {
            addErrorMessage("ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.");
        }

        if (totalRecords > 30) {
            addErrorMessage("ê²€ìƒ‰ ê²°ê³¼ê°€ 30ê±´ì„ ì´ˆê³¼í•©ë‹ˆë‹¤. ê²€ìƒ‰ ì¡°ê±´ì„ ì¢í˜€ì£¼ì„¸ìš”.");
        }
    }

    // ì—ëŸ¬ ë©”ì‹œì§€ ì²˜ë¦¬ í•¨ìˆ˜
    private void addErrorMessage(String message) {
        FacesMessage facesMessage = new FacesMessage(FacesMessage.SEVERITY_ERROR, message, null);
        FacesContext.getCurrentInstance().addMessage(null, facesMessage);
    }

    private void updateUserList(int page) {
        totalRecords = userDAO.getTotalUserCount(organization, userName, userCode, userEmail);
        totalPages = (int) Math.ceil((double) totalRecords / pageSize);
        userList = userDAO.getUsers(organization, userName, userCode, userEmail, (page - 1) * pageSize, pageSize);
    }

    public void goToFirstPage() {
        updateUserList(1);
    }

    public void previousPage() {
        if (currentPage > 1) {
            currentPage--;
            updateUserList(currentPage);
        }
    }

    public void nextPage() {
        if (currentPage < totalPages) {
            currentPage++;
            updateUserList(currentPage);
        }
    }

    public void goToLastPage() {
        updateUserList(totalPages);
    }

    // Getter / Setter ìƒëµ
}
```

---

### **ë³€ê²½ëœ ë¶€ë¶„**
1. **`userDAO` ì´ˆê¸°í™”**:
   - `@PostConstruct`ì—ì„œ `userDAO = new UserDAO();`ë¡œ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.
   - ì´ë¥¼ í†µí•´ `userDAO`ê°€ `null`ì´ ë˜ì§€ ì•Šë„ë¡ ë³´ì¥í•©ë‹ˆë‹¤.

2. **`userList` ë° `organizationList` ì´ˆê¸°í™”**:
   - `userList`ì™€ `organizationList`ë„ `@PostConstruct`ì—ì„œ ì´ˆê¸°í™”í•©ë‹ˆë‹¤.
   - `organizationList`ëŠ” `userDAO`ë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.

---

### **ì™œ `@PostConstruct`ì—ì„œ ì´ˆê¸°í™”í•´ì•¼ í• ê¹Œ?**
- **Bean ìƒëª…ì£¼ê¸°**: `@ViewScoped` Beanì€ ë·°(í˜ì´ì§€)ê°€ ìœ ì§€ë˜ëŠ” ë™ì•ˆ ì‚´ì•„ìˆìŠµë‹ˆë‹¤. `@PostConstruct`ëŠ” Beanì´ ìƒì„±ëœ ì§í›„ í•œ ë²ˆë§Œ í˜¸ì¶œë˜ë¯€ë¡œ, ì´ˆê¸°í™” ì‘ì—…ì„ ìˆ˜í–‰í•˜ê¸°ì— ì í•©í•©ë‹ˆë‹¤.
- **ì˜ì¡´ì„± ì£¼ì…ì´ ì—†ëŠ” í™˜ê²½**: ìˆœìˆ˜ JSF í™˜ê²½ì—ì„œëŠ” `@Inject`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, `userDAO`ë¥¼ ìˆ˜ë™ìœ¼ë¡œ ì´ˆê¸°í™”í•´ì•¼ í•©ë‹ˆë‹¤.

---

### **ì¶”ê°€ ê³ ë ¤ì‚¬í•­**
1. **ì˜ì¡´ì„± ì£¼ì… ì‚¬ìš©**:
   - Spring ë˜ëŠ” Java EE í™˜ê²½ì´ë¼ë©´ `@Inject` ë˜ëŠ” `@Autowired`ë¥¼ ì‚¬ìš©í•˜ì—¬ `userDAO`ë¥¼ ì£¼ì…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
   - ì˜ˆ:
     ```java
     @Inject
     private UserDAO userDAO;
     ```

2. **ì‹±ê¸€í†¤ íŒ¨í„´**:
   - `UserDAO`ê°€ ì‹±ê¸€í†¤ìœ¼ë¡œ ê´€ë¦¬ëœë‹¤ë©´, `@PostConstruct`ì—ì„œ ì´ˆê¸°í™”í•˜ì§€ ì•Šê³  ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹œ í•œ ë²ˆë§Œ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

3. **í…ŒìŠ¤íŠ¸ ìš©ì´ì„±**:
   - `userDAO`ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ë¡œì§ì„ ë³„ë„ì˜ ë©”ì„œë“œë¡œ ë¶„ë¦¬í•˜ë©´, í…ŒìŠ¤íŠ¸ ì‹œ Mock ê°ì²´ë¥¼ ì£¼ì…í•˜ê¸° ì‰¬ì›Œì§‘ë‹ˆë‹¤.

---

### **ê²°ë¡ **
`@PostConstruct`ì—ì„œ `userDAO`ë¥¼ ì´ˆê¸°í™”í•˜ì§€ ì•Šìœ¼ë©´, `userDAO`ê°€ `null`ì´ ë˜ì–´ ê²€ìƒ‰ ê¸°ëŠ¥ì´ ë™ì‘í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ `@PostConstruct`ì—ì„œ `userDAO`ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ê²ƒì´ í•„ìˆ˜ì ì…ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ê²€ìƒ‰ ê¸°ëŠ¥ì´ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ë„ë¡ ë³´ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ğŸ˜Š
