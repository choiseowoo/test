ì•„ë˜ëŠ” **JSF + MyBatis**ë¥¼ ì‚¬ìš©í•˜ì—¬ ìœ ì € ê²€ìƒ‰ ë° ì„ íƒ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ìµœì¢… ì½”ë“œì…ë‹ˆë‹¤.  
ì´ ì½”ë“œëŠ” **ë¼ë””ì˜¤ ë²„íŠ¼ì„ JavaScriptë¡œ ì œì–´í•˜ê³ **, **í•˜ë‚˜ë§Œ ì„ íƒ ê°€ëŠ¥í•˜ë©°**, **ì„ íƒí•œ ë°ì´í„°ë¥¼ ë¶€ëª¨ í˜ì´ì§€ë¡œ ì „ë‹¬**í•˜ëŠ” ê¸°ëŠ¥ì„ í¬í•¨í•©ë‹ˆë‹¤.  

---

## **ğŸ“Œ 1. `UserSearchBean.java` (ìœ ì € ê²€ìƒ‰ í˜ì´ì§€ì˜ ë°±ì—”ë“œ)**
```java
import jakarta.faces.bean.ManagedBean;
import jakarta.faces.bean.ViewScoped;
import jakarta.faces.context.FacesContext;
import java.io.Serializable;
import java.util.List;

@ManagedBean
@ViewScoped
public class UserSearchBean implements Serializable {
    private static final long serialVersionUID = 1L;

    private String searchOrgName;
    private String searchUserName;
    private String searchUserEnglishName;
    private String searchOrgCode;
    private List<User> searchResults;
    private User selectedUser;

    // MyBatis Mapper (ì˜ˆì œìš©)
    private UserMapper userMapper = MyBatisUtil.getSqlSessionFactory().openSession().getMapper(UserMapper.class);

    public void searchUsers() {
        this.searchResults = userMapper.searchUsers(searchOrgName, searchUserName, searchUserEnglishName, searchOrgCode);
    }

    public void clearSearch() {
        this.searchOrgName = null;
        this.searchUserName = null;
        this.searchUserEnglishName = null;
        this.searchOrgCode = null;
        this.searchResults = null;
    }

    public void selectUser() {
        if (selectedUser != null) {
            FacesContext.getCurrentInstance().getExternalContext().getFlash().put("selectedUser", selectedUser);
        }
    }

    // Getter & Setter
    public String getSearchOrgName() { return searchOrgName; }
    public void setSearchOrgName(String searchOrgName) { this.searchOrgName = searchOrgName; }
    public String getSearchUserName() { return searchUserName; }
    public void setSearchUserName(String searchUserName) { this.searchUserName = searchUserName; }
    public String getSearchUserEnglishName() { return searchUserEnglishName; }
    public void setSearchUserEnglishName(String searchUserEnglishName) { this.searchUserEnglishName = searchUserEnglishName; }
    public String getSearchOrgCode() { return searchOrgCode; }
    public void setSearchOrgCode(String searchOrgCode) { this.searchOrgCode = searchOrgCode; }
    public List<User> getSearchResults() { return searchResults; }
    public void setSearchResults(List<User> searchResults) { this.searchResults = searchResults; }
    public User getSelectedUser() { return selectedUser; }
    public void setSelectedUser(User selectedUser) { this.selectedUser = selectedUser; }
}
```

---

## **ğŸ“Œ 2. `userSearch.xhtml` (ìœ ì € ê²€ìƒ‰ í˜ì´ì§€)**
```xhtml
<h:form id="searchForm">
    <h:panelGrid columns="2">
        <h:outputLabel for="orgName" value="ìœ ì € ì¡°ì§ëª…:" />
        <h:inputText id="orgName" value="#{userSearchBean.searchOrgName}" />

        <h:outputLabel for="userName" value="ìœ ì €ëª…:" />
        <h:inputText id="userName" value="#{userSearchBean.searchUserName}" />

        <h:outputLabel for="userEnglishName" value="ìœ ì € ì˜ì–´ëª…:" />
        <h:inputText id="userEnglishName" value="#{userSearchBean.searchUserEnglishName}" />

        <h:outputLabel for="orgCode" value="ì¡°ì§ ì½”ë“œ:" />
        <h:inputText id="orgCode" value="#{userSearchBean.searchOrgCode}" />
    </h:panelGrid>

    <h:commandButton value="ê²€ìƒ‰" action="#{userSearchBean.searchUsers}" update="resultsTable" />
    <h:commandButton value="ì´ˆê¸°í™”" action="#{userSearchBean.clearSearch}" update="searchForm resultsTable" />
</h:form>

<h:form id="resultsForm">
    <h:dataTable id="resultsTable" value="#{userSearchBean.searchResults}" var="user" rendered="#{not empty userSearchBean.searchResults}">
        <h:column>
            <h:selectOneRadio id="radio" value="#{userSearchBean.selectedUser}" onclick="selectUser(this)">
                <f:selectItem itemValue="#{user}" itemLabel="#{user.userName} (#{user.userEnglishName}, #{user.orgCode}, #{user.orgName})" />
            </h:selectOneRadio>
        </h:column>
        <h:column><h:outputText value="#{user.userName}" /></h:column>
        <h:column><h:outputText value="#{user.userEnglishName}" /></h:column>
        <h:column><h:outputText value="#{user.orgCode}" /></h:column>
        <h:column><h:outputText value="#{user.orgName}" /></h:column>
    </h:dataTable>

    <h:commandButton value="ì„ íƒ" action="#{userSearchBean.selectUser}" onclick="sendSelectedUser()" />
</h:form>

<script>
function selectUser(radio) {
    document.querySelectorAll("input[type='radio']").forEach(r => r.checked = false);
    radio.querySelector("input[type='radio']").checked = true;
}

function sendSelectedUser() {
    var selectedRadio = document.querySelector("input[type='radio']:checked");
    if (!selectedRadio) {
        alert("ì„ íƒëœ ì‚¬ìš©ìê°€ ì—†ìŠµë‹ˆë‹¤.");
        return false;
    }

    var selectedUser = selectedRadio.value;
    if (window.opener) {
        window.opener.document.getElementById("selectedUserLabel").innerText = selectedUser;
        window.close();
    }
}
</script>
```

---

## **ğŸ“Œ 3. `UserAuthBean.java` (ë¶€ëª¨ í˜ì´ì§€ ë°±ì—”ë“œ)**
```java
import jakarta.annotation.PostConstruct;
import jakarta.faces.bean.ManagedBean;
import jakarta.faces.bean.ViewScoped;
import jakarta.faces.context.FacesContext;
import java.io.Serializable;

@ManagedBean
@ViewScoped
public class UserAuthBean implements Serializable {
    private static final long serialVersionUID = 1L;

    private String selectedUserId;
    private String selectedUserName;

    @PostConstruct
    public void init() {
        FacesContext facesContext = FacesContext.getCurrentInstance();
        if (facesContext.getExternalContext().getFlash().containsKey("selectedUser")) {
            User selectedUser = (User) facesContext.getExternalContext().getFlash().get("selectedUser");
            if (selectedUser != null) {
                this.selectedUserId = selectedUser.getId();
                this.selectedUserName = selectedUser.getUserName();
            }
        }
    }

    public String getSelectedUserId() { return selectedUserId; }
    public String getSelectedUserName() { return selectedUserName; }
}
```

---

## **ğŸ“Œ 4. `userAuth.xhtml` (ë¶€ëª¨ í˜ì´ì§€)**
```xhtml
<h:form>
    <h:outputLabel value="ìœ ì € ID: " />
    <h:outputText id="selectedUserLabel" value="#{userAuthBean.selectedUserId}" />

    <h:outputLabel value="ìœ ì €ëª…: " />
    <h:outputText id="selectedUserName" value="#{userAuthBean.selectedUserName}" />

    <h:commandButton value="ìœ ì € ê²€ìƒ‰" onclick="window.open('userSearch.xhtml', '_blank', 'width=800,height=600')" />
</h:form>
```

---

## **ğŸ“Œ ìµœì¢… ì •ë¦¬**
âœ… **ìœ ì € ê²€ìƒ‰ í˜ì´ì§€ì—ì„œ ê²€ìƒ‰ ì¡°ê±´ì„ ì…ë ¥í•˜ì—¬ í•„í„°ë§ ê°€ëŠ¥**  
âœ… **ê²€ìƒ‰ ê²°ê³¼ë¥¼ ë°ì´í„° í…Œì´ë¸”ë¡œ í‘œì‹œí•˜ë©°, ë¼ë””ì˜¤ ë²„íŠ¼ìœ¼ë¡œ í•˜ë‚˜ì˜ ìœ ì €ë§Œ ì„ íƒ ê°€ëŠ¥**  
âœ… **JavaScriptë¡œ ë¼ë””ì˜¤ ë²„íŠ¼ ì„ íƒì„ ì œì–´í•˜ì—¬ í•˜ë‚˜ë§Œ ì„ íƒ ê°€ëŠ¥í•˜ê²Œ êµ¬í˜„**  
âœ… **ì„ íƒ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ë¶€ëª¨ í˜ì´ì§€ë¡œ ìœ ì € ì •ë³´ë¥¼ ì „ë‹¬**  
âœ… **ë¶€ëª¨ í˜ì´ì§€ì—ì„œ ì„ íƒëœ ìœ ì € ì •ë³´ë¥¼ ë¼ë²¨ì— í‘œì‹œ**  

ì´ì œ ì™„ë²½í•˜ê²Œ ë™ì‘í•˜ëŠ” **ìœ ì € ê²€ìƒ‰ ë° ì„ íƒ ê¸°ëŠ¥**ì´ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸš€
